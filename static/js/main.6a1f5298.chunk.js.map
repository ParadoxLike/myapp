{"version":3,"sources":["Utils.js","Functions/DateReg.js","Functions/DeadFollowers.js","App.js","index.js"],"names":["$","ajaxPrefilter","options","crossDomain","support","cors","url","access_token","VKAppApi","VKMiniAppAPI","initApp","DateReg","id","goBack","user","goForward","ListUserSearch","addon","onClick","left","top","defaultValue","onChange","e","methods","params","callback","text","target","value","hide","data","console","log","items","length","show","forEach","element","push","style","flexShrink","width","height","display","flexDirection","alignItems","fontSize","size","src","photo_100","first_name","last_name","ReactDOM","render","q","fields","count","v","callAPIMethod","then","before","fadeOut","UserId","val","ajax","done","req","match","result","res2","split","html","slideDown","header","mode","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","justifyContent","paddingBottom","borderRadius","level","weight","textAlign","color","textShadow","App","props","activePanel","currentTarget","dataset","to","history","state","connect","send","setState","pop","scheme","schemeDark","fetchedUser","sex","photo_200","popout","subscribe","detail","type","isDark","includes","token","this","isWebView","onSwipeBack","disabled","data-to","DeadFollowers","React","Component","document","getElementById"],"mappings":"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","file":"static/js/main.6a1f5298.chunk.js","sourcesContent":["import { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api';\r\nimport $ from \"jquery\";\r\n\r\n//class Utils\r\n\r\n$.ajaxPrefilter(function (options) {\r\n    if (options.crossDomain && $.support.cors) {\r\n        options.url = 'https://cors-anywhere.herokuapp.com/' + options.url;\r\n    }\r\n});\r\n\r\nlet access_token = \"\";\r\nconst VKAppApi = new VKMiniAppAPI()\r\nVKAppApi.initApp();\r\n\r\n\r\nconst setToken = (token) => {\r\n    access_token = token;\r\n    console.log(\"set tok\");\r\n}\r\n\r\nconst callAPI = (methods, params , callback) => {\r\n    if (!params.access_token) params.access_token = access_token;\r\n    if (!params.v) params.v = \"5.111\";\r\n    VKAppApi.callAPIMethod(methods, params).then(callback);\r\n}\r\nconst getAvatarUrl = (domain) => {\r\n\r\n    let photo = \"\";\r\n    VKAppApi.callAPIMethod(\"users.get\", {\r\n        access_token: access_token,\r\n        v: \"5.111\",\r\n        user_ids: domain,\r\n        fields: \"photo_100,photo_200\"\r\n    }).then(user => {\r\n        //console.log(\"user\");\r\n        //console.log(user);\r\n        photo = user[0].photo_200 ? user[0].photo_200 : (user[0].photo_100 ? user[0].photo_100 : false)\r\n        console.log(photo)\r\n        return photo;\r\n    });\r\n}\r\n\r\n\r\n\r\nexport { getAvatarUrl, setToken, callAPI }  ","import React from \"react\";\r\nimport ReactDOM from 'react-dom';\r\nimport { Panel } from '@vkontakte/vkui';\r\nimport { PanelHeader } from '@vkontakte/vkui';\r\nimport { PanelHeaderButton } from '@vkontakte/vkui';\r\nimport { PanelHeaderBack } from '@vkontakte/vkui';\r\nimport { Group } from '@vkontakte/vkui';\r\nimport { Input } from '@vkontakte/vkui';\r\nimport { FormLayout } from '@vkontakte/vkui';\r\nimport { Button } from '@vkontakte/vkui';\r\nimport { Div } from '@vkontakte/vkui';\r\nimport { Title } from '@vkontakte/vkui';\r\nimport { HorizontalScroll } from '@vkontakte/vkui';\r\nimport { SimpleCell } from '@vkontakte/vkui';\r\nimport { Avatar } from '@vkontakte/vkui';\r\nimport { Header } from '@vkontakte/vkui';\r\n\r\nimport { callAPI } from \"./../Utils\"\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\n\r\nimport $ from \"jquery\";\r\n\r\n\r\nconst DateReg = ({ id, goBack, goForward, user }) => {\r\n    const GetDateReg = () => {\r\n        $(\"#FriendsSearchResult\").hide();\r\n        $(\"#DateRegResult\").fadeOut(\"fast\", function () {\r\n            let UserId = $(\"#DateRegUserId\").val();\r\n            console.log(UserId);\r\n            //ya:created dc:date=\"2007-07-10T12:57:12+03:00\"\r\n\r\n            $.ajax(\"https://vk.com/foaf.php?id=\" + UserId)\r\n                .done(function (data) {\r\n                    let req = data.match(/<ya:created dc:date=\"([\\d]{4}-[\\d]{2}-[\\d]{2}T[\\d]{2}:[\\d]{2}:[\\d]{2}\\+[\\d]{2}:[\\d]{2})\"/i);\r\n                    let result = \"Еггог :О\";\r\n                    if (req) {\r\n                        let res1 = req[1].split(\"T\");\r\n                        let res2 = res1[0].split(\"-\");\r\n                        result = \"Дата регистрации:<br>\" + res2[2] + \".\" + res2[1] + \".\" + res2[0];\r\n                    }\r\n                    $(\"#DateRegText\").html(result);\r\n                    $(\"#DateRegResult\").slideDown(\"fast\");\r\n                })\r\n        });\r\n        return;\r\n    };\r\n\r\n    let ListUserSearch = [];\r\n\r\n    const onChange = (e) => {\r\n        let text = e.target.value;\r\n        $(\"#DateRegResult\").hide();\r\n        callAPI(\"friends.search\", {\r\n            q: text,\r\n            fields: \"photo_100\",\r\n            count: 10\r\n        }, data => {\r\n            console.log(data)\r\n            if (data.items.length > 0) {\r\n                $(\"#FriendsSearchResult\").show();\r\n                ListUserSearch = []\r\n                data.items.forEach(element => {\r\n                    /*ListUserSearch.push(\r\n                        <SimpleCell before={\r\n                            <Avatar size={40} src={element.photo_100} />\r\n                        }>{element.first_name + \" \" + element.last_name}</SimpleCell>\r\n                    )*/\r\n                    ListUserSearch.push(\r\n                        <div style={{\r\n                            flexShrink: 0,\r\n                            width: 80,\r\n                            height: 94,\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            alignItems: 'center',\r\n                            fontSize: 12\r\n                          }}>\r\n                            <Avatar size={64} src={element.photo_100} />\r\n                            {element.first_name + \" \" + element.last_name}\r\n                        </div>\r\n                    )\r\n\r\n                });\r\n                ReactDOM.render(<div style={{ display: 'flex' }}>{ListUserSearch}</div>, $(\"#FriendsSearchResultDiv\")[0])\r\n            } else {\r\n                $(\"#FriendsSearchResult\").hide();\r\n            }\r\n        })\r\n\r\n    }\r\n    return (\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n                addon={<PanelHeaderButton onClick={goBack}>Назад</PanelHeaderButton>}\r\n                left={<PanelHeaderBack onClick={goBack} />}\r\n            >Дата регистрации</PanelHeader>\r\n            <Group>\r\n                <FormLayout>\r\n\r\n                    <Input top=\"Ссылка на пользователя\" id=\"DateRegUserId\" defaultValue={user.id} onChange={onChange} />\r\n                    <Button size=\"xl\" before={<Icon24Flash />} onClick={GetDateReg}>Узнать</Button>\r\n                </FormLayout>\r\n            </Group>\r\n            <Group style={{ display: \"none\" }} id=\"FriendsSearchResult\" header={\r\n                <Header mode=\"secondary\">Список друзей</Header>\r\n            }>\r\n                <HorizontalScroll id=\"FriendsSearchResultDiv\" style={{ display: 'flex' }}></HorizontalScroll>\r\n            </Group>\r\n            < Div style={{ display: \"none\" }} id=\"DateRegResult\">\r\n                <div style={{\r\n                    backgroundImage: \"url('https://sun9-30.userapi.com/c853520/v853520560/21e5b6/xrSo_ya_iRs.jpg')\",\r\n                    backgroundRepeat: \"no-repeat\",\r\n                    backgroundSize: \"cover\",\r\n                    backgroundPosition: \"center\",\r\n                    height: 200,\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    paddingBottom: \"6px\",\r\n                    borderRadius: 12\r\n                }}>\r\n                    <Title level=\"1\" weight=\"heavy\" id=\"DateRegText\" style={{\r\n                        textAlign: \"center\",\r\n                        color: \"#fff\",\r\n                        textShadow: \"4px 4px 5px #000, -4px 4px 5px #000,-4px -4px 5px #000, 4px -4px 5px #000\"\r\n                    }}>{user.first_name}, ты шо, дурак шоль!?</Title>\r\n                </div>\r\n            </Div>\r\n        </Panel>\r\n\r\n    )\r\n}\r\nexport default DateReg;","import React from \"react\";\r\nimport { Panel } from '@vkontakte/vkui';\r\nimport { PanelHeader } from '@vkontakte/vkui';\r\nimport { PanelHeaderButton } from '@vkontakte/vkui';\r\nimport { PanelHeaderBack } from '@vkontakte/vkui';\r\nimport { Group } from '@vkontakte/vkui';\r\nimport { Input } from '@vkontakte/vkui';\r\nimport { FormLayout } from '@vkontakte/vkui';\r\nimport { Button } from '@vkontakte/vkui';\r\nimport { Div } from '@vkontakte/vkui';\r\nimport { Title } from '@vkontakte/vkui';\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\n\r\n\r\nconst DateReg = ({ id, goBack, goForward, user }) => (\r\n    <Panel id={id}>\r\n        <PanelHeader\r\n            addon={<PanelHeaderButton onClick={goBack}>Назад</PanelHeaderButton>}\r\n            left={<PanelHeaderBack onClick={goBack} />}\r\n        >Дата регистрации</PanelHeader>\r\n        <Group>\r\n            <FormLayout>\r\n                <Input top=\"Ссылка на пользователя\" id=\"DateRegUserId\" defaultValue={user.id} />\r\n                <Button size=\"xl\" before={<Icon24Flash />} >Узнать</Button>\r\n            </FormLayout>\r\n        </Group>\r\n        < Div style={{ display: \"none\" }} id=\"DateRegResult\">\r\n            <div style={{\r\n                backgroundImage: \"url('https://sun9-30.userapi.com/c853520/v853520560/21e5b6/xrSo_ya_iRs.jpg')\",\r\n                backgroundRepeat: \"no-repeat\",\r\n                backgroundSize: \"cover\",\r\n                backgroundPosition: \"center\",\r\n                height: 200,\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                paddingBottom: \"6px\",\r\n                borderRadius: 12\r\n            }}>\r\n                <Title level=\"1\" weight=\"heavy\" id=\"DateRegText\" style={{\r\n                    textAlign: \"center\",\r\n                    color: \"#fff\",\r\n                    textShadow: \"4px 4px 5px #000, -4px 4px 5px #000,-4px -4px 5px #000, 4px -4px 5px #000\"\r\n                }}>{user.first_name}, ты шо, дурак шоль!?</Title>\r\n            </div>\r\n        </Div>\r\n    </Panel>\r\n\r\n);\r\n\r\nexport default DateReg;","import React from \"react\";\n\nimport connect from \"@vkontakte/vk-bridge\";\n\nimport { ConfigProvider } from \"@vkontakte/vkui\";\nimport { View } from \"@vkontakte/vkui\";\nimport { Panel } from \"@vkontakte/vkui\";\nimport { PanelHeader } from \"@vkontakte/vkui\";\nimport { Header } from \"@vkontakte/vkui\";\nimport { Group } from \"@vkontakte/vkui\";\nimport { RichCell } from \"@vkontakte/vkui\";\nimport { SimpleCell } from \"@vkontakte/vkui\";\nimport { Avatar } from \"@vkontakte/vkui\";\nimport { Text } from \"@vkontakte/vkui\";\nimport { Subhead } from \"@vkontakte/vkui\";\nimport { ScreenSpinner } from \"@vkontakte/vkui\";\n\n\nimport Icon28CalendarOutline from \"@vkontakte/icons/dist/28/calendar_outline\";\nimport Icon28Users3Outline from '@vkontakte/icons/dist/28/users_3_outline';\nimport DateReg from \"./Functions/DateReg\"\nimport DeadFollowers from \"./Functions/DeadFollowers\"\nimport { setToken } from \"./Utils\"\n\n//import { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api';\n/*\nconst VKAppApi = new VKMiniAppAPI();\nVKAppApi.initApp();\nVKAppApi.getUserInfo().then(userInfo => {\n  console.log(userInfo.id);\n});\n*/\n\n\n\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activePanel: \"Main\",\n\n      scheme: 'bright_light',\n      schemeDark: ['space_gray', 'client_dark'],\n\n      fetchedUser: {\n        id: 0,\n        first_name: \"Пользователь\",\n        last_name: \"\",\n        sex: 0,\n        photo_200: \"https://vk.com/images/camera_100.png\",\n      },\n      history: ['Main'],\n\n      popout: <ScreenSpinner size='large' />,\n    }\n  }\n\n  goForward = (e) => {\n    const activePanel = e.currentTarget.dataset.to;\n    const history = [...this.state.history];\n    history.push(activePanel);\n    if (this.state.activePanel === 'main') {\n      connect.send('VKWebAppEnableSwipeBack');\n    }\n    this.setState({\n      history: history,\n      activePanel: activePanel\n    });\n  };\n\n  goBack = () => {\n    const history = [...this.state.history];\n    history.pop();\n    const activePanel = history[history.length - 1];\n    console.log(activePanel);\n    if (activePanel === 'main') {\n      connect.send('VKWebAppDisableSwipeBack');\n    }\n    this.setState({ history: history, activePanel: activePanel });\n  }\n\n  componentDidMount() {\n    connect.subscribe((e) => {\n      switch (e.detail.type) {\n        case 'VKWebAppInitResult':\n        case 'VKWebAppCallAPIMethodResult':\n          break;\n        case 'VKWebAppGetUserInfoResult':\n          this.setState({ fetchedUser: e.detail.data });\n          this.setState({ popout: '' });\n          break;\n        case 'VKWebAppUpdateConfig':\n          const isDark = this.state.schemeDark.includes(e.detail.data.scheme);\n          this.setState({ scheme: isDark ? 'space_gray' : 'bright_light' });\n          break;\n        case 'VKWebAppGetAuthTokenResult':\n        case 'VKWebAppAccessTokenReceived':\n          console.log(\"VKWebAppGetAuthTokenResult\");\n          setToken(e.detail.data.access_token);\n          break;\n        default:\n          console.log(e.type);\n          console.log(e);\n\n      }\n    });\n    connect.send(\"VKWebAppInit\");\n    connect.send('VKWebAppGetUserInfo', {});\n    connect.send(\"VKWebAppGetAuthToken\", { \"app_id\": 7548849, \"scope\": \"friends,photos,wall,groups\" });\n  }\n\n\n  render() {\n    return (\n      <ConfigProvider scheme={this.state.scheme} isWebView={true}>\n        <View\n          id=\"View1\"\n          popout={this.state.popout}\n          activePanel={this.state.activePanel}\n          onSwipeBack={this.goBack}\n          history={this.state.history}\n        >\n          <Panel id=\"Main\">\n            <PanelHeader>byKIM</PanelHeader>\n\n            <Group header={<Header mode=\"secondary\">Добро пожаловать</Header>}>\n              <RichCell\n                disabled\n                text={\n                  <Subhead weight=\"regular\" style={{ color: \"var(--text_secondary)\" }}>{\n                    \"id\" + this.state.fetchedUser.id\n                  }</Subhead>\n                }\n                before={\n                  <Avatar size={72} src={this.state.fetchedUser.photo_200} />\n                }\n              >\n                <Text weight=\"medium\">{\n                  this.state.fetchedUser.first_name + \" \" +\n                  this.state.fetchedUser.last_name\n                }</Text>\n              </RichCell>\n            </Group>\n\n            <Group header={<Header mode=\"secondary\">Функции</Header>}>\n              <SimpleCell onClick={this.goForward} data-to=\"FunctionDateReg\" before={<Icon28CalendarOutline />}>Дата регистрации</SimpleCell>\n              <SimpleCell onClick={this.goForward} data-to=\"FunctionDeadFollowers\" before={<Icon28Users3Outline />}>Мертвые подписчики</SimpleCell>\n\n            </Group>\n\n          </Panel>\n\n          <DateReg id=\"FunctionDateReg\" goBack={this.goBack} goForward={this.goForward} user={this.state.fetchedUser} />\n          <DeadFollowers id=\"FunctionDeadFollowers\" goBack={this.goBack} goForward={this.goForward} user={this.state.fetchedUser} />\n\n\n        </View>\n      </ConfigProvider>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport \"@vkontakte/vkui/dist/vkui.css\";\n\n// Init VK  Mini App\n//const schemeAttribute = document.createAttribute(\"scheme\");\n//schemeAttribute.value = \"space_gray\";\n//schemeAttribute.value = \"bright_light\";\n//document.body.attributes.setNamedItem(schemeAttribute);\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}