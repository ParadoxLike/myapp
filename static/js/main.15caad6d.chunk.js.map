{"version":3,"sources":["Utils.js","Functions/DateReg.js","Functions/DeadFollowers.js","App.js","index.js"],"names":["$","ajaxPrefilter","options","crossDomain","support","cors","url","access_token","VKAppApi","VKMiniAppAPI","initApp","DateReg","props","DateRegGetFreiends","e","methods","params","callback","text","target","value","hide","data","console","log","setState","DateRegUsersList","items","q","fields","count","v","callAPIMethod","then","DateRegSetUid","uid","val","DateRegGet","is","prop","fadeOut","UserId","ajax","done","result","date_req","match","name_req","date_res2","split","html","slideDown","state","id","this","addon","onClick","goBack","left","top","defaultValue","user","onChange","length","style","display","map","element","key","className","data-uid","size","src","photo_100","first_name","last_name","before","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","height","alignItems","justifyContent","paddingBottom","borderRadius","level","weight","textAlign","color","textShadow","React","Component","goForward","App","activePanel","currentTarget","dataset","to","history","push","connect","send","pop","scheme","schemeDark","fetchedUser","sex","photo_200","popout","subscribe","detail","type","isDark","includes","token","isWebView","onSwipeBack","header","mode","disabled","data-to","DeadFollowers","ReactDOM","render","document","getElementById"],"mappings":"6RAKAA,IAAEC,eAAc,SAAUC,GAClBA,EAAQC,aAAeH,IAAEI,QAAQC,OACjCH,EAAQI,IAAM,uCAAyCJ,EAAQI,QAIvE,IAAIC,EAAe,GACbC,EAAW,IAAIC,eACrBD,EAASE,UAGT,I,iBCkHeC,E,kDA3GX,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAMVC,mBAAqB,SAACC,GAClB,IDVSC,EAASC,EAASC,ECUvBC,EAAOJ,EAAEK,OAAOC,MACpBpB,IAAE,kBAAkBqB,ODXXN,ECYD,iBDZmBE,ECgBxB,SAAAK,GACCC,QAAQC,IAAIF,GACZ,EAAKG,SAAS,CAAEC,iBAAkBJ,EAAKK,UDlBzBX,ECYQ,CACtBY,EAAGV,EACHW,OAAQ,YACRC,MAAO,KDdHvB,eAAcS,EAAOT,aAAeA,GAC3CS,EAAOe,IAAGf,EAAOe,EAAI,SAC1BvB,EAASwB,cAAcjB,EAASC,GAAQiB,KAAKhB,ICD1B,EAoBnBiB,cAAgB,SAACC,GACbnC,IAAE,kBAAkBoC,IAAID,GACxB,EAAKE,cAtBU,EAwBnBA,WAAa,WACLrC,IAAE,kBAAkBsC,GAAG,eAE3BtC,IAAE,kBAAkBuC,KAAK,YAAY,GAErC,EAAKd,SAAS,CAAEC,iBAAkB,KAClC1B,IAAE,kBAAkBwC,QAAQ,QAAQ,WAChC,IAAIC,EAASzC,IAAE,kBAAkBoC,MACjCb,QAAQC,IAAIiB,GAGZzC,IAAE0C,KAAK,8BAAgCD,GAClCE,MAAK,SAAUrB,GACZ,IAAIsB,EAAS,yCACTC,EAAWvB,EAAKwB,MAAM,6FACtBC,EAAWzB,EAAKwB,MAAM,iCAE1B,GAAID,GAAYE,EAAU,CACtB,IACIC,EADYH,EAAS,GAAGI,MAAM,KACR,GAAGA,MAAM,KACnCL,EAAS,IAAMG,EAAS,GAAK,wGAA+BC,EAAU,GAAK,IAAMA,EAAU,GAAK,IAAMA,EAAU,GAEpHhD,IAAE,gBAAgBkD,KAAKN,GACvB5C,IAAE,kBAAkBmD,UAAU,QAAQ,WAClCnD,IAAE,kBAAkBuC,KAAK,YAAY,cA9CrD,EAAKa,MAAQ,CACT1B,iBAAkB,IAEtB,EAAKb,mBAAmB,CAAEM,OAAQ,CAAEC,MAAO,MAL5B,E,qDAsDT,IAAD,OACL,OACI,kBAAC,IAAD,CAAOiC,GAAIC,KAAK1C,MAAMyC,IAClB,kBAAC,IAAD,CACIE,MAAO,kBAAC,IAAD,CAAmBC,QAASF,KAAK1C,MAAM6C,QAAvC,kCACPC,KAAM,kBAAC,IAAD,CAAiBF,QAASF,KAAK1C,MAAM6C,UAF/C,+FAIA,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOE,IAAI,6HAAyBN,GAAG,gBAAgBO,aAAcN,KAAK1C,MAAMiD,KAAKR,GAAIS,SAAUR,KAAKzC,qBACvGyC,KAAKF,MAAM1B,iBAAiBqC,OAAS,GAClC,kBAAC,IAAD,CAAkBV,GAAG,uBACjB,yBAAKW,MAAO,CAAEC,QAAS,SAClBX,KAAKF,MAAM1B,iBAAiBwC,KAAI,SAACC,GAAD,OAC7B,yBAAKC,IAAKD,EAAQd,GAAIgB,UAAU,kBAC5BC,WAAUH,EAAQd,GAClBG,QAAS,SAAC1C,GAAD,OAAO,EAAKoB,cAAciC,EAAQd,MAE3C,kBAAC,IAAD,CAAQkB,KAAM,GAAIC,IAAKL,EAAQM,YAC/B,kBAAC,IAAD,KAAON,EAAQO,WAAa,IAAMP,EAAQQ,iBAM9D,kBAAC,IAAD,CAAQtB,GAAG,gBAAgBkB,KAAK,KAAKK,OAAQ,kBAAC,IAAD,MAAiBpB,QAASF,KAAKjB,YAA5E,0CAGR,kBAAE,IAAF,CAAM2B,MAAO,CAAEC,QAAS,QAAUZ,GAAG,iBACjC,yBAAKW,MAAO,CACRa,gBAAiB,+EACjBC,iBAAkB,YAClBC,eAAgB,QAChBC,mBAAoB,SACpBC,OAAQ,IACRhB,QAAS,OACTiB,WAAY,SACZC,eAAgB,SAChBC,cAAe,MACfC,aAAc,KAEd,kBAAC,IAAD,CAAOC,MAAM,IAAIC,OAAO,QAAQlC,GAAG,cAAcW,MAAO,CACpDwB,UAAW,SACXC,MAAO,OACPC,WAAY,8EACZpC,KAAK1C,MAAMiD,KAAKa,WAJpB,iG,GAhGFiB,IAAMC,WC4BbjF,EApCC,SAAC,GAAD,IAAG0C,EAAH,EAAGA,GAAII,EAAP,EAAOA,OAAmBI,GAA1B,EAAegC,UAAf,EAA0BhC,MAA1B,OACZ,kBAAC,IAAD,CAAOR,GAAIA,GACP,kBAAC,IAAD,CACIE,MAAO,kBAAC,IAAD,CAAmBC,QAASC,GAA5B,kCACPC,KAAM,kBAAC,IAAD,CAAiBF,QAASC,KAFpC,+FAIA,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOE,IAAI,6HAAyBN,GAAG,gBAAgBO,aAAcC,EAAKR,KAC1E,kBAAC,IAAD,CAAQkB,KAAK,KAAKK,OAAQ,kBAAC,IAAD,OAA1B,0CAGR,kBAAE,IAAF,CAAMZ,MAAO,CAAEC,QAAS,QAAUZ,GAAG,iBACjC,yBAAKW,MAAO,CACRa,gBAAiB,+EACjBC,iBAAkB,YAClBC,eAAgB,QAChBC,mBAAoB,SACpBC,OAAQ,IACRhB,QAAS,OACTiB,WAAY,SACZC,eAAgB,SAChBC,cAAe,MACfC,aAAc,KAEd,kBAAC,IAAD,CAAOC,MAAM,IAAIC,OAAO,QAAQlC,GAAG,cAAcW,MAAO,CACpDwB,UAAW,SACXC,MAAO,OACPC,WAAY,8EACZ7B,EAAKa,WAJT,8FC+HDoB,E,kDAhIb,WAAYlF,GAAQ,IAAD,8BACjB,cAAMA,IAsBRiF,UAAY,SAAC/E,GACX,IAAMiF,EAAcjF,EAAEkF,cAAcC,QAAQC,GACtCC,EAAO,YAAO,EAAK/C,MAAM+C,SAC/BA,EAAQC,KAAKL,GACkB,SAA3B,EAAK3C,MAAM2C,aACbM,IAAQC,KAAK,2BAEf,EAAK7E,SAAS,CACZ0E,QAASA,EACTJ,YAAaA,KAhCE,EAoCnBtC,OAAS,WACP,IAAM0C,EAAO,YAAO,EAAK/C,MAAM+C,SAC/BA,EAAQI,MACR,IAAMR,EAAcI,EAAQA,EAAQpC,OAAS,GAC7CxC,QAAQC,IAAIuE,GACQ,SAAhBA,GACFM,IAAQC,KAAK,4BAEf,EAAK7E,SAAS,CAAE0E,QAASA,EAASJ,YAAaA,KAzC/C,EAAK3C,MAAQ,CACX2C,YAAa,OAEbS,OAAQ,eACRC,WAAY,CAAC,aAAc,eAE3BC,YAAa,CACXrD,GAAI,EACJqB,WAAY,2EACZC,UAAW,GACXgC,IAAK,EACLC,UAAW,wCAEbT,QAAS,CAAC,QAEVU,OAAQ,kBAAC,IAAD,CAAetC,KAAK,WAlBb,E,gEA+CE,IAAD,OAClB8B,IAAQS,WAAU,SAAChG,GACjB,OAAQA,EAAEiG,OAAOC,MACf,IAAK,qBACL,IAAK,8BACH,MACF,IAAK,4BACH,EAAKvF,SAAS,CAAEiF,YAAa5F,EAAEiG,OAAOzF,OACtC,EAAKG,SAAS,CAAEoF,OAAQ,KACxB,MACF,IAAK,uBACH,IAAMI,EAAS,EAAK7D,MAAMqD,WAAWS,SAASpG,EAAEiG,OAAOzF,KAAKkF,QAC5D,EAAK/E,SAAS,CAAE+E,OAAQS,EAAS,aAAe,iBAChD,MACF,IAAK,6BACL,IAAK,8BACH1F,QAAQC,IAAI,8BHrFJ2F,EGsFCrG,EAAEiG,OAAOzF,KAAKf,aHrF7BA,EAAe4G,EACf5F,QAAQC,IAAI,WGqFN,MACF,QACED,QAAQC,IAAIV,EAAEkG,MACdzF,QAAQC,IAAIV,GH1FL,IAACqG,KG8Fdd,IAAQC,KAAK,gBACbD,IAAQC,KAAK,sBAAuB,IACpCD,IAAQC,KAAK,uBAAwB,CAAE,OAAU,QAAS,MAAS,iC,+BAKnE,OACE,kBAAC,IAAD,CAAgBE,OAAQlD,KAAKF,MAAMoD,OAAQY,WAAW,GACpD,kBAAC,IAAD,CACE/D,GAAG,QACHwD,OAAQvD,KAAKF,MAAMyD,OACnBd,YAAazC,KAAKF,MAAM2C,YACxBsB,YAAa/D,KAAKG,OAClB0C,QAAS7C,KAAKF,MAAM+C,SAEpB,kBAAC,IAAD,CAAO9C,GAAG,QACR,kBAAC,IAAD,cAEA,kBAAC,IAAD,CAAOiE,OAAQ,kBAAC,IAAD,CAAQC,KAAK,aAAb,gGACb,kBAAC,IAAD,CACEC,UAAQ,EACRtG,KACE,kBAAC,IAAD,CAASqE,OAAO,UAAUvB,MAAO,CAAEyB,MAAO,0BACxC,KAAOnC,KAAKF,MAAMsD,YAAYrD,IAGlCuB,OACE,kBAAC,IAAD,CAAQL,KAAM,GAAIC,IAAKlB,KAAKF,MAAMsD,YAAYE,aAGhD,kBAAC,IAAD,CAAMrB,OAAO,UACXjC,KAAKF,MAAMsD,YAAYhC,WAAa,IACpCpB,KAAKF,MAAMsD,YAAY/B,aAK7B,kBAAC,IAAD,CAAO2C,OAAQ,kBAAC,IAAD,CAAQC,KAAK,aAAb,+CACb,kBAAC,IAAD,CAAY/D,QAASF,KAAKuC,UAAW4B,UAAQ,kBAAkB7C,OAAQ,kBAAC,IAAD,OAAvE,+FACA,kBAAC,IAAD,CAAYpB,QAASF,KAAKuC,UAAW4B,UAAQ,wBAAwB7C,OAAQ,kBAAC,IAAD,OAA7E,6GAMJ,kBAAC,EAAD,CAASvB,GAAG,kBAAkBI,OAAQH,KAAKG,OAAQoC,UAAWvC,KAAKuC,UAAWzC,MAAOE,KAAKF,MAAOS,KAAMP,KAAKF,MAAMsD,cAClH,kBAACgB,EAAD,CAAerE,GAAG,wBAAwBI,OAAQH,KAAKG,OAAQoC,UAAWvC,KAAKuC,UAAWhC,KAAMP,KAAKF,MAAMsD,oB,GAxHnGf,IAAMC,W,cCxBxB+B,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.15caad6d.chunk.js","sourcesContent":["import { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api';\r\nimport $ from \"jquery\";\r\n\r\n//class Utils\r\n\r\n$.ajaxPrefilter(function (options) {\r\n    if (options.crossDomain && $.support.cors) {\r\n        options.url = 'https://cors-anywhere.herokuapp.com/' + options.url;\r\n    }\r\n});\r\n\r\nlet access_token = \"\";\r\nconst VKAppApi = new VKMiniAppAPI()\r\nVKAppApi.initApp();\r\n\r\n\r\nconst setToken = (token) => {\r\n    access_token = token;\r\n    console.log(\"set tok\");\r\n}\r\n\r\nconst callAPI = (methods, params , callback) => {\r\n    if (!params.access_token) params.access_token = access_token;\r\n    if (!params.v) params.v = \"5.111\";\r\n    VKAppApi.callAPIMethod(methods, params).then(callback);\r\n}\r\nconst getAvatarUrl = (domain) => {\r\n\r\n    let photo = \"\";\r\n    VKAppApi.callAPIMethod(\"users.get\", {\r\n        access_token: access_token,\r\n        v: \"5.111\",\r\n        user_ids: domain,\r\n        fields: \"photo_100,photo_200\"\r\n    }).then(user => {\r\n        //console.log(\"user\");\r\n        //console.log(user);\r\n        photo = user[0].photo_200 ? user[0].photo_200 : (user[0].photo_100 ? user[0].photo_100 : false)\r\n        console.log(photo)\r\n        return photo;\r\n    });\r\n}\r\n\r\n\r\n\r\nexport { getAvatarUrl, setToken, callAPI }  ","import React from \"react\";\r\nimport ReactDOM from 'react-dom';\r\nimport { Panel } from '@vkontakte/vkui';\r\nimport { PanelHeader } from '@vkontakte/vkui';\r\nimport { PanelHeaderButton } from '@vkontakte/vkui';\r\nimport { PanelHeaderBack } from '@vkontakte/vkui';\r\nimport { Group } from '@vkontakte/vkui';\r\nimport { Input } from '@vkontakte/vkui';\r\nimport { FormLayout } from '@vkontakte/vkui';\r\nimport { Button } from '@vkontakte/vkui';\r\nimport { Div } from '@vkontakte/vkui';\r\nimport { Title } from '@vkontakte/vkui';\r\nimport { HorizontalScroll } from '@vkontakte/vkui';\r\nimport { Avatar } from '@vkontakte/vkui';\r\nimport { Text } from '@vkontakte/vkui';\r\n\r\nimport { callAPI } from \"./../Utils\"\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\n\r\nimport $ from \"jquery\";\r\n\r\n\r\nclass DateReg extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            DateRegUsersList: [],\r\n        }\r\n        this.DateRegGetFreiends({ target: { value: \"\" } });\r\n    }\r\n    DateRegGetFreiends = (e) => {\r\n        let text = e.target.value;\r\n        $(\"#DateRegResult\").hide();\r\n        callAPI(\"friends.search\", {\r\n            q: text,\r\n            fields: \"photo_100\",\r\n            count: 10\r\n        }, data => {\r\n            console.log(data)\r\n            this.setState({ DateRegUsersList: data.items });\r\n        })\r\n\r\n    }\r\n    DateRegSetUid = (uid) => {\r\n        $(\"#DateRegUserId\").val(uid);\r\n        this.DateRegGet();\r\n    }\r\n    DateRegGet = () => {\r\n        if ($(\"#DateRegButton\").is(':disabled')) return;\r\n\r\n        $(\"#DateRegButton\").prop(\"disabled\", true);\r\n\r\n        this.setState({ DateRegUsersList: [] });\r\n        $(\"#DateRegResult\").fadeOut(\"fast\", () => {\r\n            let UserId = $(\"#DateRegUserId\").val();\r\n            console.log(UserId);\r\n            //ya:created dc:date=\"2007-07-10T12:57:12+03:00\"\r\n\r\n            $.ajax(\"https://vk.com/foaf.php?id=\" + UserId)\r\n                .done(function (data) {\r\n                    let result = \"Еггог :О\";\r\n                    let date_req = data.match(/<ya:created dc:date=\"([\\d]{4}-[\\d]{2}-[\\d]{2}T[\\d]{2}:[\\d]{2}:[\\d]{2}\\+[\\d]{2}:[\\d]{2})\"/i);\r\n                    let name_req = data.match(/<foaf:name>(.*)<\\/foaf:name>/i);\r\n\r\n                    if (date_req && name_req) {\r\n                        let date_res1 = date_req[1].split(\"T\");\r\n                        let date_res2 = date_res1[0].split(\"-\");\r\n                        result = \"[\" + name_req[1] + \"]<br>Дата регистрации:<br>\" + date_res2[2] + \".\" + date_res2[1] + \".\" + date_res2[0];\r\n                    }\r\n                    $(\"#DateRegText\").html(result);\r\n                    $(\"#DateRegResult\").slideDown(\"fast\", () => {\r\n                        $(\"#DateRegButton\").prop(\"disabled\", false);\r\n                    });\r\n                })\r\n        });\r\n        return;\r\n    }\r\n    render() {\r\n        return (\r\n            <Panel id={this.props.id}>\r\n                <PanelHeader\r\n                    addon={<PanelHeaderButton onClick={this.props.goBack}>Назад</PanelHeaderButton>}\r\n                    left={<PanelHeaderBack onClick={this.props.goBack} />}\r\n                >Дата регистрации</PanelHeader>\r\n                <Group>\r\n                    <FormLayout>\r\n                        <Input top=\"Ссылка на пользователя\" id=\"DateRegUserId\" defaultValue={this.props.user.id} onChange={this.DateRegGetFreiends} />\r\n                        {this.state.DateRegUsersList.length > 0 &&\r\n                            <HorizontalScroll id=\"DateRegSearchResult\">\r\n                                <div style={{ display: 'flex' }}>\r\n                                    {this.state.DateRegUsersList.map((element) =>\r\n                                        <div key={element.id} className=\"horizontal_item\"\r\n                                            data-uid={element.id}\r\n                                            onClick={(e) => this.DateRegSetUid(element.id)}\r\n                                        >\r\n                                            <Avatar size={64} src={element.photo_100} />\r\n                                            <Text>{element.first_name + \" \" + element.last_name}</Text>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </HorizontalScroll>\r\n                        }\r\n                        <Button id=\"DateRegButton\" size=\"xl\" before={<Icon24Flash />} onClick={this.DateRegGet}>Узнать</Button>\r\n                    </FormLayout>\r\n                </Group>\r\n                < Div style={{ display: \"none\" }} id=\"DateRegResult\">\r\n                    <div style={{\r\n                        backgroundImage: \"url('https://sun9-30.userapi.com/c853520/v853520560/21e5b6/xrSo_ya_iRs.jpg')\",\r\n                        backgroundRepeat: \"no-repeat\",\r\n                        backgroundSize: \"cover\",\r\n                        backgroundPosition: \"center\",\r\n                        height: 200,\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                        paddingBottom: \"6px\",\r\n                        borderRadius: 12\r\n                    }}>\r\n                        <Title level=\"1\" weight=\"heavy\" id=\"DateRegText\" style={{\r\n                            textAlign: \"center\",\r\n                            color: \"#fff\",\r\n                            textShadow: \"4px 4px 5px #000, -4px 4px 5px #000,-4px -4px 5px #000, 4px -4px 5px #000\"\r\n                        }}>{this.props.user.first_name}, ты шо, дурак шоль!?</Title>\r\n                    </div>\r\n                </Div>\r\n            </Panel>\r\n\r\n        )\r\n    }\r\n}\r\nexport default DateReg;","import React from \"react\";\r\nimport { Panel } from '@vkontakte/vkui';\r\nimport { PanelHeader } from '@vkontakte/vkui';\r\nimport { PanelHeaderButton } from '@vkontakte/vkui';\r\nimport { PanelHeaderBack } from '@vkontakte/vkui';\r\nimport { Group } from '@vkontakte/vkui';\r\nimport { Input } from '@vkontakte/vkui';\r\nimport { FormLayout } from '@vkontakte/vkui';\r\nimport { Button } from '@vkontakte/vkui';\r\nimport { Div } from '@vkontakte/vkui';\r\nimport { Title } from '@vkontakte/vkui';\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\n\r\n\r\nconst DateReg = ({ id, goBack, goForward, user }) => (\r\n    <Panel id={id}>\r\n        <PanelHeader\r\n            addon={<PanelHeaderButton onClick={goBack}>Назад</PanelHeaderButton>}\r\n            left={<PanelHeaderBack onClick={goBack} />}\r\n        >Дата регистрации</PanelHeader>\r\n        <Group>\r\n            <FormLayout>\r\n                <Input top=\"Ссылка на пользователя\" id=\"DateRegUserId\" defaultValue={user.id} />\r\n                <Button size=\"xl\" before={<Icon24Flash />} >Узнать</Button>\r\n            </FormLayout>\r\n        </Group>\r\n        < Div style={{ display: \"none\" }} id=\"DateRegResult\">\r\n            <div style={{\r\n                backgroundImage: \"url('https://sun9-30.userapi.com/c853520/v853520560/21e5b6/xrSo_ya_iRs.jpg')\",\r\n                backgroundRepeat: \"no-repeat\",\r\n                backgroundSize: \"cover\",\r\n                backgroundPosition: \"center\",\r\n                height: 200,\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                paddingBottom: \"6px\",\r\n                borderRadius: 12\r\n            }}>\r\n                <Title level=\"1\" weight=\"heavy\" id=\"DateRegText\" style={{\r\n                    textAlign: \"center\",\r\n                    color: \"#fff\",\r\n                    textShadow: \"4px 4px 5px #000, -4px 4px 5px #000,-4px -4px 5px #000, 4px -4px 5px #000\"\r\n                }}>{user.first_name}, ты шо, дурак шоль!?</Title>\r\n            </div>\r\n        </Div>\r\n    </Panel>\r\n\r\n);\r\n\r\nexport default DateReg;","import React from \"react\";\n\nimport connect from \"@vkontakte/vk-bridge\";\n\nimport { ConfigProvider } from \"@vkontakte/vkui\";\nimport { View } from \"@vkontakte/vkui\";\nimport { Panel } from \"@vkontakte/vkui\";\nimport { PanelHeader } from \"@vkontakte/vkui\";\nimport { Header } from \"@vkontakte/vkui\";\nimport { Group } from \"@vkontakte/vkui\";\nimport { RichCell } from \"@vkontakte/vkui\";\nimport { SimpleCell } from \"@vkontakte/vkui\";\nimport { Avatar } from \"@vkontakte/vkui\";\nimport { Text } from \"@vkontakte/vkui\";\nimport { Subhead } from \"@vkontakte/vkui\";\nimport { ScreenSpinner } from \"@vkontakte/vkui\";\n\n\nimport Icon28CalendarOutline from \"@vkontakte/icons/dist/28/calendar_outline\";\nimport Icon28Users3Outline from '@vkontakte/icons/dist/28/users_3_outline';\nimport DateReg from \"./Functions/DateReg\"\nimport DeadFollowers from \"./Functions/DeadFollowers\"\nimport { setToken } from \"./Utils\"\n\n//import { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api';\n/*\nconst VKAppApi = new VKMiniAppAPI();\nVKAppApi.initApp();\nVKAppApi.getUserInfo().then(userInfo => {\n  console.log(userInfo.id);\n});\n*/\n\n\n\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activePanel: \"Main\",\n\n      scheme: 'bright_light',\n      schemeDark: ['space_gray', 'client_dark'],\n\n      fetchedUser: {\n        id: 0,\n        first_name: \"Пользователь\",\n        last_name: \"\",\n        sex: 0,\n        photo_200: \"https://vk.com/images/camera_100.png\",\n      },\n      history: ['Main'],\n\n      popout: <ScreenSpinner size='large' />,\n\n    }\n  }\n\n  goForward = (e) => {\n    const activePanel = e.currentTarget.dataset.to;\n    const history = [...this.state.history];\n    history.push(activePanel);\n    if (this.state.activePanel === 'main') {\n      connect.send('VKWebAppEnableSwipeBack');\n    }\n    this.setState({\n      history: history,\n      activePanel: activePanel\n    });\n  };\n\n  goBack = () => {\n    const history = [...this.state.history];\n    history.pop();\n    const activePanel = history[history.length - 1];\n    console.log(activePanel);\n    if (activePanel === 'main') {\n      connect.send('VKWebAppDisableSwipeBack');\n    }\n    this.setState({ history: history, activePanel: activePanel });\n  }\n\n  componentDidMount() {\n    connect.subscribe((e) => {\n      switch (e.detail.type) {\n        case 'VKWebAppInitResult':\n        case 'VKWebAppCallAPIMethodResult':\n          break;\n        case 'VKWebAppGetUserInfoResult':\n          this.setState({ fetchedUser: e.detail.data });\n          this.setState({ popout: '' });\n          break;\n        case 'VKWebAppUpdateConfig':\n          const isDark = this.state.schemeDark.includes(e.detail.data.scheme);\n          this.setState({ scheme: isDark ? 'space_gray' : 'bright_light' });\n          break;\n        case 'VKWebAppGetAuthTokenResult':\n        case 'VKWebAppAccessTokenReceived':\n          console.log(\"VKWebAppGetAuthTokenResult\");\n          setToken(e.detail.data.access_token);\n          break;\n        default:\n          console.log(e.type);\n          console.log(e);\n\n      }\n    });\n    connect.send(\"VKWebAppInit\");\n    connect.send('VKWebAppGetUserInfo', {});\n    connect.send(\"VKWebAppGetAuthToken\", { \"app_id\": 7548849, \"scope\": \"friends,photos,wall,groups\" });\n  }\n\n\n  render() {\n    return (\n      <ConfigProvider scheme={this.state.scheme} isWebView={true}>\n        <View\n          id=\"View1\"\n          popout={this.state.popout}\n          activePanel={this.state.activePanel}\n          onSwipeBack={this.goBack}\n          history={this.state.history}\n        >\n          <Panel id=\"Main\">\n            <PanelHeader>byKIM</PanelHeader>\n\n            <Group header={<Header mode=\"secondary\">Добро пожаловать</Header>}>\n              <RichCell\n                disabled\n                text={\n                  <Subhead weight=\"regular\" style={{ color: \"var(--text_secondary)\" }}>{\n                    \"id\" + this.state.fetchedUser.id\n                  }</Subhead>\n                }\n                before={\n                  <Avatar size={72} src={this.state.fetchedUser.photo_200} />\n                }\n              >\n                <Text weight=\"medium\">{\n                  this.state.fetchedUser.first_name + \" \" +\n                  this.state.fetchedUser.last_name\n                }</Text>\n              </RichCell>\n            </Group>\n\n            <Group header={<Header mode=\"secondary\">Функции</Header>}>\n              <SimpleCell onClick={this.goForward} data-to=\"FunctionDateReg\" before={<Icon28CalendarOutline />}>Дата регистрации</SimpleCell>\n              <SimpleCell onClick={this.goForward} data-to=\"FunctionDeadFollowers\" before={<Icon28Users3Outline />}>Мертвые подписчики</SimpleCell>\n\n            </Group>\n\n          </Panel>\n\n          <DateReg id=\"FunctionDateReg\" goBack={this.goBack} goForward={this.goForward} state={this.state} user={this.state.fetchedUser} />\n          <DeadFollowers id=\"FunctionDeadFollowers\" goBack={this.goBack} goForward={this.goForward} user={this.state.fetchedUser} />\n\n\n        </View>\n      </ConfigProvider>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport \"./index.css\"\n\n// Init VK  Mini App\n//const schemeAttribute = document.createAttribute(\"scheme\");\n//schemeAttribute.value = \"space_gray\";\n//schemeAttribute.value = \"bright_light\";\n//document.body.attributes.setNamedItem(schemeAttribute);\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}