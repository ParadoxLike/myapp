{"version":3,"sources":["Utils.js","Functions/DateReg.js","Functions/DeadFollowers.js","App.js","index.js"],"names":["$","ajaxPrefilter","options","crossDomain","support","cors","url","Utils","setToken","token","access_token","console","log","callAPI","methods","params","callback","v","VKAppApi","callAPIMethod","then","this","VKMiniAppAPI","initApp","DateReg","props","DateRegGetFreiends","e","text","target","value","hide","q","fields","count","data","setState","DateRegUsersList","items","DateRegSetUid","uid","val","DateRegGet","is","prop","btnEnabled","result","end","html","slideDown","ajax","UserId","done","date_req","match","name_req","date_res2","split","fadeOut","UserLink","trim","UserDomain","test","screen_name","type","object_id","state","id","addon","onClick","goBack","left","top","defaultValue","user","onChange","length","style","display","map","element","key","className","data-uid","size","src","photo_100","first_name","last_name","before","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","height","alignItems","justifyContent","paddingBottom","borderRadius","level","weight","textAlign","color","textShadow","React","Component","goForward","App","activePanel","currentTarget","dataset","to","history","push","connect","send","pop","scheme","schemeDark","fetchedUser","sex","photo_200","popout","subscribe","detail","isDark","includes","isWebView","onSwipeBack","header","mode","disabled","data-to","DeadFollowers","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9f01f3f6.chunk.js","sourcesContent":["import { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api';\r\nimport $ from \"jquery\";\r\n\r\n//class Utils\r\n\r\n$.ajaxPrefilter((options) => {\r\n    if (options.crossDomain && $.support.cors) {\r\n        options.url = 'https://cors-anywhere.herokuapp.com/' + options.url;\r\n    }\r\n});\r\n\r\n\r\nclass UtilsClass {\r\n    constructor() {\r\n        this.access_token = ''\r\n        this.VKAppApi = new VKMiniAppAPI()\r\n        this.VKAppApi.initApp();\r\n    }\r\n\r\n\r\n    setToken = (token) => {\r\n        this.access_token = token;\r\n        console.log(\"set tok\");\r\n    }\r\n    callAPI = (methods, params, callback) => {\r\n        if (!params.access_token) params.access_token = this.access_token;\r\n        if (!params.v) params.v = \"5.111\";\r\n        this.VKAppApi.callAPIMethod(methods, params).then(callback);\r\n    }\r\n    /*getIdByLink = async (Link) => {\r\n        let Domain = '';\r\n        let Id = '';\r\n        if (/^(-?\\d+)$/.test(Link)) {\r\n            Id = Link\r\n            return {type:\"user\",object_id:Id}\r\n        }\r\n        else {\r\n            let match = Link.match(/(https?:\\/\\/)?(vk.com)?\\/?(.+)/i);\r\n            if (match[0]) {\r\n                Domain = match[3];\r\n                console.log(2);\r\n                Utils.callAPI(\"utils.resolveScreenName\", {\r\n                    screen_name: Domain,\r\n                }, data => {\r\n                    console.log(5);\r\n                    console.log(data)\r\n                    if (data.type === \"user\" || data.type === \"group\") {\r\n                        return data;\r\n                    }\r\n                    else {\r\n                        return \"null\";\r\n                    }\r\n                })\r\n                console.log(6);\r\n            }\r\n            else {\r\n                return \"null\"\r\n            }\r\n        }\r\n    }*/\r\n}\r\n\r\nlet Utils = new UtilsClass();\r\n\r\n\r\n\r\n/*\r\n\r\nlet access_token = \"\";\r\nconst VKAppApi = new VKMiniAppAPI()\r\nVKAppApi.initApp();\r\n\r\n\r\nconst setToken = (token) => {\r\n    access_token = token;\r\n    console.log(\"set tok\");\r\n}\r\n\r\nconst callAPI = (methods, params , callback) => {\r\n    if (!params.access_token) params.access_token = access_token;\r\n    if (!params.v) params.v = \"5.111\";\r\n    VKAppApi.callAPIMethod(methods, params).then(callback);\r\n}\r\nconst getAvatarUrl = (domain) => {\r\n\r\n    let photo = \"\";\r\n    VKAppApi.callAPIMethod(\"users.get\", {\r\n        access_token: access_token,\r\n        v: \"5.111\",\r\n        user_ids: domain,\r\n        fields: \"photo_100,photo_200\"\r\n    }).then(user => {\r\n        //console.log(\"user\");\r\n        //console.log(user);\r\n        photo = user[0].photo_200 ? user[0].photo_200 : (user[0].photo_100 ? user[0].photo_100 : false)\r\n        console.log(photo)\r\n        return photo;\r\n    });\r\n}\r\n\r\n*/\r\n\r\nexport { Utils }  ","import React from \"react\";\r\nimport { Panel } from '@vkontakte/vkui';\r\nimport { PanelHeader } from '@vkontakte/vkui';\r\nimport { PanelHeaderButton } from '@vkontakte/vkui';\r\nimport { PanelHeaderBack } from '@vkontakte/vkui';\r\nimport { Group } from '@vkontakte/vkui';\r\nimport { Input } from '@vkontakte/vkui';\r\nimport { FormLayout } from '@vkontakte/vkui';\r\nimport { Button } from '@vkontakte/vkui';\r\nimport { Div } from '@vkontakte/vkui';\r\nimport { Title } from '@vkontakte/vkui';\r\nimport { HorizontalScroll } from '@vkontakte/vkui';\r\nimport { Avatar } from '@vkontakte/vkui';\r\nimport { Text } from '@vkontakte/vkui';\r\nimport { Spinner } from '@vkontakte/vkui';\r\n\r\nimport { Utils } from \"./../Utils\"\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\n\r\nimport $ from \"jquery\";\r\n\r\n\r\nclass DateReg extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            DateRegUsersList: [],\r\n            btnEnabled: true,\r\n        }\r\n        this.DateRegGetFreiends({ target: { value: \"\" } });\r\n    }\r\n    DateRegGetFreiends = (e) => {\r\n        let text = e.target.value;\r\n        $(\"#DateRegResult\").hide();\r\n        Utils.callAPI(\"friends.search\", {\r\n            q: text,\r\n            fields: \"photo_100\",\r\n            count: 10\r\n        }, data => {\r\n            console.log(data)\r\n            this.setState({ DateRegUsersList: data.items });\r\n        })\r\n\r\n    }\r\n    DateRegSetUid = (uid) => {\r\n        $(\"#DateRegUserId\").val(uid);\r\n        this.DateRegGet();\r\n    }\r\n    DateRegGet = () => {\r\n        if ($(\"#DateRegButton\").is(':disabled')) return;\r\n\r\n\r\n        $(\"#DateRegUserId\").prop(\"disabled\", true);\r\n        $(\"#DateRegButton\").prop(\"disabled\", true);\r\n        this.setState({ btnEnabled: false });\r\n        this.setState({ DateRegUsersList: [] });\r\n\r\n        let result = \"Еггог :О\";\r\n        const end = () => {\r\n            $(\"#DateRegText\").html(result);\r\n            $(\"#DateRegResult\").slideDown(\"fast\", () => {\r\n                $(\"#DateRegUserId\").prop(\"disabled\", false);\r\n                $(\"#DateRegButton\").prop(\"disabled\", false);\r\n                this.setState({ btnEnabled: true });\r\n            });\r\n        }\r\n        const ajax = (UserId) => {\r\n            $.ajax(\"https://vk.com/foaf.php?id=\" + UserId)\r\n                .done((data) => {\r\n\r\n                    let date_req = data.match(/<ya:created dc:date=\"([\\d]{4}-[\\d]{2}-[\\d]{2}T[\\d]{2}:[\\d]{2}:[\\d]{2}\\+[\\d]{2}:[\\d]{2})\"/i);\r\n                    let name_req = data.match(/<foaf:name>(.+)<\\/foaf:name>/i);\r\n\r\n                    if (date_req && name_req) {\r\n                        let date_res1 = date_req[1].split(\"T\");\r\n                        let date_res2 = date_res1[0].split(\"-\");\r\n                        result = \"[\" + name_req[1] + \"]<br>Дата регистрации:<br>\" + date_res2[2] + \".\" + date_res2[1] + \".\" + date_res2[0];\r\n                    }\r\n                    return end();\r\n                })\r\n        }\r\n\r\n        $(\"#DateRegResult\").fadeOut(\"fast\", () => {\r\n            let UserLink = $(\"#DateRegUserId\").val().trim();\r\n            let UserDomain = '';\r\n            let UserId = '';\r\n            if (/^(-?\\d+)$/.test(UserLink)) {\r\n                UserId = UserLink\r\n                ajax(UserId)\r\n            }\r\n            else {\r\n                let match = UserLink.match(/(https?:\\/\\/)?(vk.com)?\\/?(.+)/i);\r\n                if (match[0]) {\r\n                    UserDomain = match[3];\r\n                    Utils.callAPI(\"utils.resolveScreenName\", {\r\n                        screen_name: UserDomain,\r\n                    }, data => {\r\n                        if (data.type === \"user\") {\r\n                            ajax(data.object_id)\r\n                        }\r\n                        else {\r\n                            result += \"<br>Ссылка не пользователя\";\r\n                            return end();\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    result += \"<br>Ссылка не верная\";\r\n                    return end();\r\n                }\r\n            }\r\n\r\n        });\r\n        return;\r\n    }\r\n    render() {\r\n        return (\r\n            <Panel id={this.props.id}>\r\n                <PanelHeader\r\n                    addon={<PanelHeaderButton onClick={this.props.goBack}>Назад</PanelHeaderButton>}\r\n                    left={<PanelHeaderBack onClick={this.props.goBack} />}\r\n                >Дата регистрации</PanelHeader>\r\n                <Group>\r\n                    <FormLayout>\r\n                        <Input top=\"Ссылка на пользователя / Поиск друга\" id=\"DateRegUserId\" defaultValue={this.props.user.id} onChange={this.DateRegGetFreiends} />\r\n                        {this.state.DateRegUsersList.length > 0 &&\r\n                            <HorizontalScroll id=\"DateRegSearchResult\">\r\n                                <div style={{ display: 'flex' }}>\r\n                                    {this.state.DateRegUsersList.map((element) =>\r\n                                        <div key={element.id} className=\"horizontal_item\"\r\n                                            data-uid={element.id}\r\n                                            onClick={(e) => this.DateRegSetUid(element.id)}\r\n                                        >\r\n                                            <Avatar size={64} src={element.photo_100} />\r\n                                            <Text>{element.first_name + \" \" + element.last_name}</Text>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </HorizontalScroll>\r\n                        }\r\n                        <Button id=\"DateRegButton\" size=\"xl\" before={this.state.btnEnabled ? <Icon24Flash /> : \"\"} onClick={this.DateRegGet}>{this.state.btnEnabled ? \"Узнать\" : <Spinner size=\"regular\" />}</Button>\r\n                    </FormLayout>\r\n                </Group>\r\n                < Div style={{ display: \"none\" }} id=\"DateRegResult\">\r\n                    <div style={{\r\n                        backgroundImage: \"url('https://sun9-30.userapi.com/c853520/v853520560/21e5b6/xrSo_ya_iRs.jpg')\",\r\n                        backgroundRepeat: \"no-repeat\",\r\n                        backgroundSize: \"cover\",\r\n                        backgroundPosition: \"center\",\r\n                        height: 200,\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                        paddingBottom: \"6px\",\r\n                        borderRadius: 12\r\n                    }}>\r\n                        <Title level=\"1\" weight=\"heavy\" id=\"DateRegText\" style={{\r\n                            textAlign: \"center\",\r\n                            color: \"#fff\",\r\n                            textShadow: \"4px 4px 5px #000, -4px 4px 5px #000,-4px -4px 5px #000, 4px -4px 5px #000\"\r\n                        }}>{this.props.user.first_name}, ты шо, дурак шоль!?</Title>\r\n                    </div>\r\n                </Div>\r\n            </Panel>\r\n\r\n        )\r\n    }\r\n}\r\nexport default DateReg;","import React from \"react\";\r\nimport { Panel } from '@vkontakte/vkui';\r\nimport { PanelHeader } from '@vkontakte/vkui';\r\nimport { PanelHeaderButton } from '@vkontakte/vkui';\r\nimport { PanelHeaderBack } from '@vkontakte/vkui';\r\nimport { Group } from '@vkontakte/vkui';\r\nimport { Input } from '@vkontakte/vkui';\r\nimport { FormLayout } from '@vkontakte/vkui';\r\nimport { Button } from '@vkontakte/vkui';\r\nimport { Div } from '@vkontakte/vkui';\r\nimport { Title } from '@vkontakte/vkui';\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\n\r\n\r\nconst DateReg = ({ id, goBack, goForward, user }) => (\r\n    <Panel id={id}>\r\n        <PanelHeader\r\n            addon={<PanelHeaderButton onClick={goBack}>Назад</PanelHeaderButton>}\r\n            left={<PanelHeaderBack onClick={goBack} />}\r\n        >Дата регистрации</PanelHeader>\r\n        <Group>\r\n            <FormLayout>\r\n                <Input top=\"Ссылка на пользователя\" id=\"DateRegUserId\" defaultValue={user.id} />\r\n                <Button size=\"xl\" before={<Icon24Flash />} >Узнать</Button>\r\n            </FormLayout>\r\n        </Group>\r\n        < Div style={{ display: \"none\" }} id=\"DateRegResult\">\r\n            <div style={{\r\n                backgroundImage: \"url('https://sun9-30.userapi.com/c853520/v853520560/21e5b6/xrSo_ya_iRs.jpg')\",\r\n                backgroundRepeat: \"no-repeat\",\r\n                backgroundSize: \"cover\",\r\n                backgroundPosition: \"center\",\r\n                height: 200,\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                paddingBottom: \"6px\",\r\n                borderRadius: 12\r\n            }}>\r\n                <Title level=\"1\" weight=\"heavy\" id=\"DateRegText\" style={{\r\n                    textAlign: \"center\",\r\n                    color: \"#fff\",\r\n                    textShadow: \"4px 4px 5px #000, -4px 4px 5px #000,-4px -4px 5px #000, 4px -4px 5px #000\"\r\n                }}>{user.first_name}, ты шо, дурак шоль!?</Title>\r\n            </div>\r\n        </Div>\r\n    </Panel>\r\n\r\n);\r\n\r\nexport default DateReg;","import React from \"react\";\n\nimport connect from \"@vkontakte/vk-bridge\";\n\nimport { ConfigProvider } from \"@vkontakte/vkui\";\nimport { View } from \"@vkontakte/vkui\";\nimport { Panel } from \"@vkontakte/vkui\";\nimport { PanelHeader } from \"@vkontakte/vkui\";\nimport { Header } from \"@vkontakte/vkui\";\nimport { Group } from \"@vkontakte/vkui\";\nimport { RichCell } from \"@vkontakte/vkui\";\nimport { SimpleCell } from \"@vkontakte/vkui\";\nimport { Avatar } from \"@vkontakte/vkui\";\nimport { Text } from \"@vkontakte/vkui\";\nimport { Subhead } from \"@vkontakte/vkui\";\nimport { ScreenSpinner } from \"@vkontakte/vkui\";\n\n\nimport Icon28CalendarOutline from \"@vkontakte/icons/dist/28/calendar_outline\";\nimport Icon28Users3Outline from '@vkontakte/icons/dist/28/users_3_outline';\nimport DateReg from \"./Functions/DateReg\"\nimport DeadFollowers from \"./Functions/DeadFollowers\"\nimport { Utils } from \"./Utils\"\n\n//import { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api';\n/*\nconst VKAppApi = new VKMiniAppAPI();\nVKAppApi.initApp();\nVKAppApi.getUserInfo().then(userInfo => {\n  console.log(userInfo.id);\n});\n*/\n\n\n\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activePanel: \"Main\",\n\n      scheme: 'bright_light',\n      schemeDark: ['space_gray', 'client_dark'],\n\n      fetchedUser: {\n        id: 0,\n        first_name: \"Пользователь\",\n        last_name: \"\",\n        sex: 0,\n        photo_200: \"https://vk.com/images/camera_100.png\",\n      },\n      history: ['Main'],\n\n      popout: <ScreenSpinner size='large' />,\n\n    }\n  }\n\n  goForward = (e) => {\n    const activePanel = e.currentTarget.dataset.to;\n    const history = [...this.state.history];\n    history.push(activePanel);\n    if (this.state.activePanel === 'main') {\n      connect.send('VKWebAppEnableSwipeBack');\n    }\n    this.setState({\n      history: history,\n      activePanel: activePanel\n    });\n  };\n\n  goBack = () => {\n    const history = [...this.state.history];\n    history.pop();\n    const activePanel = history[history.length - 1];\n    console.log(activePanel);\n    if (activePanel === 'main') {\n      connect.send('VKWebAppDisableSwipeBack');\n    }\n    this.setState({ history: history, activePanel: activePanel });\n  }\n\n  componentDidMount() {\n    connect.subscribe((e) => {\n      switch (e.detail.type) {\n        case 'VKWebAppInitResult':\n        case 'VKWebAppCallAPIMethodResult':\n          break;\n        case 'VKWebAppGetUserInfoResult':\n          this.setState({ fetchedUser: e.detail.data });\n          this.setState({ popout: '' });\n          break;\n        case 'VKWebAppUpdateConfig':\n          const isDark = this.state.schemeDark.includes(e.detail.data.scheme);\n          this.setState({ scheme: isDark ? 'space_gray' : 'bright_light' });\n          break;\n        case 'VKWebAppGetAuthTokenResult':\n        case 'VKWebAppAccessTokenReceived':\n          console.log(\"VKWebAppGetAuthTokenResult\");\n          Utils.setToken(e.detail.data.access_token);\n          break;\n        default:\n          console.log(e.type);\n          console.log(e);\n\n      }\n    });\n    connect.send(\"VKWebAppInit\");\n    connect.send('VKWebAppGetUserInfo', {});\n    connect.send(\"VKWebAppGetAuthToken\", { \"app_id\": 7548849, \"scope\": \"friends,photos,wall,groups\" });\n  }\n\n\n  render() {\n    return (\n      <ConfigProvider scheme={this.state.scheme} isWebView={true}>\n        <View\n          id=\"View1\"\n          popout={this.state.popout}\n          activePanel={this.state.activePanel}\n          onSwipeBack={this.goBack}\n          history={this.state.history}\n        >\n          <Panel id=\"Main\">\n            <PanelHeader>byKIM</PanelHeader>\n\n            <Group header={<Header mode=\"secondary\">Добро пожаловать</Header>}>\n              <RichCell\n                disabled\n                text={\n                  <Subhead weight=\"regular\" style={{ color: \"var(--text_secondary)\" }}>{\n                    \"id\" + this.state.fetchedUser.id\n                  }</Subhead>\n                }\n                before={\n                  <Avatar size={72} src={this.state.fetchedUser.photo_200} />\n                }\n              >\n                <Text weight=\"medium\">{\n                  this.state.fetchedUser.first_name + \" \" +\n                  this.state.fetchedUser.last_name\n                }</Text>\n              </RichCell>\n            </Group>\n\n            <Group header={<Header mode=\"secondary\">Функции</Header>}>\n              <SimpleCell onClick={this.goForward} data-to=\"FunctionDateReg\" before={<Icon28CalendarOutline />}>Дата регистрации</SimpleCell>\n              <SimpleCell onClick={this.goForward} data-to=\"FunctionDeadFollowers\" before={<Icon28Users3Outline />}>Мертвые подписчики</SimpleCell>\n\n            </Group>\n\n          </Panel>\n\n          <DateReg id=\"FunctionDateReg\" goBack={this.goBack} goForward={this.goForward} state={this.state} user={this.state.fetchedUser} />\n          <DeadFollowers id=\"FunctionDeadFollowers\" goBack={this.goBack} goForward={this.goForward} user={this.state.fetchedUser} />\n\n\n        </View>\n      </ConfigProvider>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport \"./index.css\"\n\n// Init VK  Mini App\n//const schemeAttribute = document.createAttribute(\"scheme\");\n//schemeAttribute.value = \"space_gray\";\n//schemeAttribute.value = \"bright_light\";\n//document.body.attributes.setNamedItem(schemeAttribute);\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}