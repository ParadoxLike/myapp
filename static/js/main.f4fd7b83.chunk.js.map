{"version":3,"sources":["Utils.js","Functions/DateReg.js","Functions/DeadFollowers.js","App.js","index.js"],"names":["$","ajaxPrefilter","options","crossDomain","support","cors","url","Utils","setToken","token","access_token","console","log","callAPI","methods","params","callback","v","VKAppApi","callAPIMethod","then","this","AppID","VKMiniAppAPI","initApp","DateReg","props","DateRegGetFreiends","e","text","target","value","hide","q","fields","count","data","setState","DateRegUsersList","items","DateRegSetUid","uid","val","DateRegGet","is","prop","btnEnabled","result","end","html","slideDown","ajax","UserId","done","date_req","match","name_req","date_res2","split","fadeOut","UserLink","trim","UserDomain","test","screen_name","type","object_id","state","id","addon","onClick","goBack","left","top","defaultValue","user","onChange","length","style","display","map","element","key","className","data-uid","size","src","photo_100","first_name","last_name","before","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","height","alignItems","justifyContent","paddingBottom","borderRadius","level","weight","textAlign","color","textShadow","React","Component","DeadFollowers","goForward","App","activePanel","currentTarget","dataset","to","history","push","connect","send","pop","scheme","schemeDark","fetchedUser","sex","photo_200","popout","subscribe","detail","isDark","includes","isWebView","onSwipeBack","header","mode","disabled","data-to","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f4fd7b83.chunk.js","sourcesContent":["import { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api';\r\nimport $ from \"jquery\";\r\n\r\n//class Utils\r\n\r\n$.ajaxPrefilter((options) => {\r\n    if (options.crossDomain && $.support.cors) {\r\n        options.url = 'https://cors-anywhere.herokuapp.com/' + options.url;\r\n    }\r\n});\r\n\r\n\r\nclass UtilsClass {\r\n    constructor() {\r\n        this.access_token = ''\r\n        this.AppID = 7548849\r\n        this.VKAppApi = new VKMiniAppAPI()\r\n        this.VKAppApi.initApp();\r\n    }\r\n\r\n\r\n    setToken = (token) => {\r\n        this.access_token = token;\r\n        console.log(\"set tok\");\r\n    }\r\n    callAPI = (methods, params, callback) => {\r\n        if (!params.access_token) params.access_token = this.access_token;\r\n        if (!params.v) params.v = \"5.111\";\r\n        this.VKAppApi.callAPIMethod(methods, params).then(callback);\r\n    }\r\n    /*getIdByLink = async (Link) => {\r\n        let Domain = '';\r\n        let Id = '';\r\n        if (/^(-?\\d+)$/.test(Link)) {\r\n            Id = Link\r\n            return {type:\"user\",object_id:Id}\r\n        }\r\n        else {\r\n            let match = Link.match(/(https?:\\/\\/)?(vk.com)?\\/?(.+)/i);\r\n            if (match[0]) {\r\n                Domain = match[3];\r\n                console.log(2);\r\n                Utils.callAPI(\"utils.resolveScreenName\", {\r\n                    screen_name: Domain,\r\n                }, data => {\r\n                    console.log(5);\r\n                    console.log(data)\r\n                    if (data.type === \"user\" || data.type === \"group\") {\r\n                        return data;\r\n                    }\r\n                    else {\r\n                        return \"null\";\r\n                    }\r\n                })\r\n                console.log(6);\r\n            }\r\n            else {\r\n                return \"null\"\r\n            }\r\n        }\r\n    }*/\r\n}\r\n\r\nlet Utils = new UtilsClass();\r\n\r\n\r\n\r\n/*\r\n\r\nlet access_token = \"\";\r\nconst VKAppApi = new VKMiniAppAPI()\r\nVKAppApi.initApp();\r\n\r\n\r\nconst setToken = (token) => {\r\n    access_token = token;\r\n    console.log(\"set tok\");\r\n}\r\n\r\nconst callAPI = (methods, params , callback) => {\r\n    if (!params.access_token) params.access_token = access_token;\r\n    if (!params.v) params.v = \"5.111\";\r\n    VKAppApi.callAPIMethod(methods, params).then(callback);\r\n}\r\nconst getAvatarUrl = (domain) => {\r\n\r\n    let photo = \"\";\r\n    VKAppApi.callAPIMethod(\"users.get\", {\r\n        access_token: access_token,\r\n        v: \"5.111\",\r\n        user_ids: domain,\r\n        fields: \"photo_100,photo_200\"\r\n    }).then(user => {\r\n        //console.log(\"user\");\r\n        //console.log(user);\r\n        photo = user[0].photo_200 ? user[0].photo_200 : (user[0].photo_100 ? user[0].photo_100 : false)\r\n        console.log(photo)\r\n        return photo;\r\n    });\r\n}\r\n\r\n*/\r\n\r\nexport { Utils }  ","import React from \"react\";\r\nimport { Panel } from '@vkontakte/vkui';\r\nimport { PanelHeader } from '@vkontakte/vkui';\r\nimport { PanelHeaderButton } from '@vkontakte/vkui';\r\nimport { PanelHeaderBack } from '@vkontakte/vkui';\r\nimport { Group } from '@vkontakte/vkui';\r\nimport { Input } from '@vkontakte/vkui';\r\nimport { FormLayout } from '@vkontakte/vkui';\r\nimport { Button } from '@vkontakte/vkui';\r\nimport { Div } from '@vkontakte/vkui';\r\nimport { Title } from '@vkontakte/vkui';\r\nimport { HorizontalScroll } from '@vkontakte/vkui';\r\nimport { Avatar } from '@vkontakte/vkui';\r\nimport { Text } from '@vkontakte/vkui';\r\nimport { Spinner } from '@vkontakte/vkui';\r\n\r\nimport { Utils } from \"../Utils\"\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\n\r\nimport $ from \"jquery\";\r\n\r\n\r\nclass DateReg extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            DateRegUsersList: [],\r\n            btnEnabled: true,\r\n        }\r\n        this.DateRegGetFreiends({ target: { value: \"\" } });\r\n    }\r\n    DateRegGetFreiends = (e) => {\r\n        let text = e.target.value;\r\n        $(\"#DateRegResult\").hide();\r\n        Utils.callAPI(\"friends.search\", {\r\n            q: text,\r\n            fields: \"photo_100\",\r\n            count: 10\r\n        }, data => {\r\n            console.log(data)\r\n            this.setState({ DateRegUsersList: data.items });\r\n        })\r\n\r\n    }\r\n    DateRegSetUid = (uid) => {\r\n        $(\"#DateRegUserId\").val(uid);\r\n        this.DateRegGet();\r\n    }\r\n    DateRegGet = () => {\r\n        if ($(\"#DateRegButton\").is(':disabled')) return;\r\n\r\n\r\n        $(\"#DateRegUserId\").prop(\"disabled\", true);\r\n        $(\"#DateRegButton\").prop(\"disabled\", true);\r\n        this.setState({ btnEnabled: false });\r\n        this.setState({ DateRegUsersList: [] });\r\n\r\n        let result = \"Еггог :О\";\r\n        const end = () => {\r\n            $(\"#DateRegText\").html(result);\r\n            $(\"#DateRegResult\").slideDown(\"fast\", () => {\r\n                $(\"#DateRegUserId\").prop(\"disabled\", false);\r\n                $(\"#DateRegButton\").prop(\"disabled\", false);\r\n                this.setState({ btnEnabled: true });\r\n            });\r\n        }\r\n        const ajax = (UserId) => {\r\n            $.ajax(\"https://vk.com/foaf.php?id=\" + UserId)\r\n                .done((data) => {\r\n\r\n                    let date_req = data.match(/<ya:created dc:date=\"([\\d]{4}-[\\d]{2}-[\\d]{2}T[\\d]{2}:[\\d]{2}:[\\d]{2}\\+[\\d]{2}:[\\d]{2})\"/i);\r\n                    let name_req = data.match(/<foaf:name>(.+)<\\/foaf:name>/i);\r\n\r\n                    if (date_req && name_req) {\r\n                        let date_res1 = date_req[1].split(\"T\");\r\n                        let date_res2 = date_res1[0].split(\"-\");\r\n                        result = \"[\" + name_req[1] + \"]<br>Дата регистрации:<br>\" + date_res2[2] + \".\" + date_res2[1] + \".\" + date_res2[0];\r\n                    }\r\n                    return end();\r\n                })\r\n        }\r\n\r\n        $(\"#DateRegResult\").fadeOut(\"fast\", () => {\r\n            let UserLink = $(\"#DateRegUserId\").val().trim();\r\n            let UserDomain = '';\r\n            let UserId = '';\r\n            if (/^(-?\\d+)$/.test(UserLink)) {\r\n                UserId = UserLink\r\n                ajax(UserId)\r\n            }\r\n            else {\r\n                let match = UserLink.match(/(https?:\\/\\/)?(vk.com)?\\/?(.+)/i);\r\n                if (match[0]) {\r\n                    UserDomain = match[3];\r\n                    Utils.callAPI(\"utils.resolveScreenName\", {\r\n                        screen_name: UserDomain,\r\n                    }, data => {\r\n                        if (data.type === \"user\") {\r\n                            ajax(data.object_id)\r\n                        }\r\n                        else {\r\n                            result += \"<br>Ссылка не пользователя\";\r\n                            return end();\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    result += \"<br>Ссылка не верная\";\r\n                    return end();\r\n                }\r\n            }\r\n\r\n        });\r\n        return;\r\n    }\r\n    render() {\r\n        return (\r\n            <Panel id={this.props.id}>\r\n                <PanelHeader\r\n                    addon={<PanelHeaderButton onClick={this.props.goBack}>Назад</PanelHeaderButton>}\r\n                    left={<PanelHeaderBack onClick={this.props.goBack} />}\r\n                >Дата регистрации</PanelHeader>\r\n                <Group>\r\n                    <FormLayout>\r\n                        <Input top=\"Ссылка на пользователя / Поиск друга\" id=\"DateRegUserId\" defaultValue={this.props.user.id} onChange={this.DateRegGetFreiends} />\r\n                        {this.state.DateRegUsersList.length > 0 &&\r\n                            <HorizontalScroll id=\"DateRegSearchResult\">\r\n                                <div style={{ display: 'flex' }}>\r\n                                    {this.state.DateRegUsersList.map((element) =>\r\n                                        <div key={element.id} className=\"horizontal_item\"\r\n                                            data-uid={element.id}\r\n                                            onClick={(e) => this.DateRegSetUid(element.id)}\r\n                                        >\r\n                                            <Avatar size={64} src={element.photo_100} />\r\n                                            <Text>{element.first_name + \" \" + element.last_name}</Text>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </HorizontalScroll>\r\n                        }\r\n                        <Button id=\"DateRegButton\" size=\"xl\" before={this.state.btnEnabled ? <Icon24Flash /> : \"\"} onClick={this.DateRegGet}>{this.state.btnEnabled ? \"Узнать\" : <Spinner size=\"regular\" />}</Button>\r\n                    </FormLayout>\r\n                </Group>\r\n                < Div style={{ display: \"none\" }} id=\"DateRegResult\">\r\n                    <div style={{\r\n                        backgroundImage: \"url('https://sun9-30.userapi.com/c853520/v853520560/21e5b6/xrSo_ya_iRs.jpg')\",\r\n                        backgroundRepeat: \"no-repeat\",\r\n                        backgroundSize: \"cover\",\r\n                        backgroundPosition: \"center\",\r\n                        height: 200,\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                        paddingBottom: \"6px\",\r\n                        borderRadius: 12\r\n                    }}>\r\n                        <Title level=\"1\" weight=\"heavy\" id=\"DateRegText\" style={{\r\n                            textAlign: \"center\",\r\n                            color: \"#fff\",\r\n                            textShadow: \"4px 4px 5px #000, -4px 4px 5px #000,-4px -4px 5px #000, 4px -4px 5px #000\"\r\n                        }}>{this.props.user.first_name}, ты шо, дурак шоль!?</Title>\r\n                    </div>\r\n                </Div>\r\n            </Panel>\r\n\r\n        )\r\n    }\r\n}\r\nexport default DateReg;","import React from \"react\";\r\nimport { Panel } from '@vkontakte/vkui';\r\nimport { PanelHeader } from '@vkontakte/vkui';\r\nimport { PanelHeaderButton } from '@vkontakte/vkui';\r\nimport { PanelHeaderBack } from '@vkontakte/vkui';\r\nimport { Group } from '@vkontakte/vkui';\r\nimport { Input } from '@vkontakte/vkui';\r\nimport { FormLayout } from '@vkontakte/vkui';\r\nimport { Button } from '@vkontakte/vkui';\r\nimport { Div } from '@vkontakte/vkui';\r\nimport { Title } from '@vkontakte/vkui';\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\n\r\n\r\nconst DeadFollowers = ({ id, goBack, goForward, user }) => (\r\n    <Panel id={id}>\r\n        <PanelHeader\r\n            addon={<PanelHeaderButton onClick={goBack}>Назад</PanelHeaderButton>}\r\n            left={<PanelHeaderBack onClick={goBack} />}\r\n        >Дата регистрации</PanelHeader>\r\n        <Group>\r\n            <FormLayout>\r\n                <Input top=\"Ссылка на пользователя\" id=\"DateRegUserId\" defaultValue={user.id} />\r\n                <Button size=\"xl\" before={<Icon24Flash />} >Узнать</Button>\r\n            </FormLayout>\r\n        </Group>\r\n        < Div style={{ display: \"none\" }} id=\"DateRegResult\">\r\n            <div style={{\r\n                backgroundImage: \"url('https://sun9-30.userapi.com/c853520/v853520560/21e5b6/xrSo_ya_iRs.jpg')\",\r\n                backgroundRepeat: \"no-repeat\",\r\n                backgroundSize: \"cover\",\r\n                backgroundPosition: \"center\",\r\n                height: 200,\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                paddingBottom: \"6px\",\r\n                borderRadius: 12\r\n            }}>\r\n                <Title level=\"1\" weight=\"heavy\" id=\"DateRegText\" style={{\r\n                    textAlign: \"center\",\r\n                    color: \"#fff\",\r\n                    textShadow: \"4px 4px 5px #000, -4px 4px 5px #000,-4px -4px 5px #000, 4px -4px 5px #000\"\r\n                }}>{user.first_name}, ты шо, дурак шоль!?</Title>\r\n            </div>\r\n        </Div>\r\n    </Panel>\r\n\r\n);\r\n\r\nexport default DeadFollowers;","import React from \"react\";\r\n\r\nimport connect from \"@vkontakte/vk-bridge\";\r\n\r\nimport { ConfigProvider } from \"@vkontakte/vkui\";\r\nimport { View } from \"@vkontakte/vkui\";\r\nimport { Panel } from \"@vkontakte/vkui\";\r\nimport { PanelHeader } from \"@vkontakte/vkui\";\r\nimport { Header } from \"@vkontakte/vkui\";\r\nimport { Group } from \"@vkontakte/vkui\";\r\nimport { RichCell } from \"@vkontakte/vkui\";\r\nimport { SimpleCell } from \"@vkontakte/vkui\";\r\nimport { Avatar } from \"@vkontakte/vkui\";\r\nimport { Text } from \"@vkontakte/vkui\";\r\nimport { Subhead } from \"@vkontakte/vkui\";\r\nimport { ScreenSpinner } from \"@vkontakte/vkui\";\r\n\r\n\r\nimport Icon28CalendarOutline from \"@vkontakte/icons/dist/28/calendar_outline\";\r\nimport Icon28Users3Outline from '@vkontakte/icons/dist/28/users_3_outline';\r\nimport DateReg from \"./Functions/DateReg\"\r\nimport DeadFollowers from \"./Functions/DeadFollowers\"\r\nimport { Utils } from \"./Utils\"\r\n\r\n//import { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api';\r\n/*\r\nconst VKAppApi = new VKMiniAppAPI();\r\nVKAppApi.initApp();\r\nVKAppApi.getUserInfo().then(userInfo => {\r\n  console.log(userInfo.id);\r\n});\r\n*/\r\n\r\n\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      activePanel: \"Main\",\r\n\r\n      scheme: 'bright_light',\r\n      schemeDark: ['space_gray', 'client_dark'],\r\n\r\n      fetchedUser: {\r\n        id: 0,\r\n        first_name: \"Пользователь\",\r\n        last_name: \"\",\r\n        sex: 0,\r\n        photo_200: \"https://vk.com/images/camera_100.png\",\r\n      },\r\n      history: ['Main'],\r\n\r\n      popout: <ScreenSpinner size='large' />,\r\n\r\n    }\r\n  }\r\n\r\n  goForward = (e) => {\r\n    const activePanel = e.currentTarget.dataset.to;\r\n    const history = [...this.state.history];\r\n    history.push(activePanel);\r\n    if (this.state.activePanel === 'main') {\r\n      connect.send('VKWebAppEnableSwipeBack');\r\n    }\r\n    this.setState({\r\n      history: history,\r\n      activePanel: activePanel\r\n    });\r\n  };\r\n\r\n  goBack = () => {\r\n    const history = [...this.state.history];\r\n    history.pop();\r\n    const activePanel = history[history.length - 1];\r\n    console.log(activePanel);\r\n    if (activePanel === 'main') {\r\n      connect.send('VKWebAppDisableSwipeBack');\r\n    }\r\n    this.setState({ history: history, activePanel: activePanel });\r\n  }\r\n\r\n  componentDidMount() {\r\n    connect.subscribe((e) => {\r\n      switch (e.detail.type) {\r\n        case 'VKWebAppInitResult':\r\n        case 'VKWebAppCallAPIMethodResult':\r\n          break;\r\n        case 'VKWebAppGetUserInfoResult':\r\n          this.setState({ fetchedUser: e.detail.data });\r\n          this.setState({ popout: '' });\r\n          break;\r\n        case 'VKWebAppUpdateConfig':\r\n          const isDark = this.state.schemeDark.includes(e.detail.data.scheme);\r\n          this.setState({ scheme: isDark ? 'space_gray' : 'bright_light' });\r\n          break;\r\n        case 'VKWebAppGetAuthTokenResult':\r\n        case 'VKWebAppAccessTokenReceived':\r\n          console.log(\"VKWebAppGetAuthTokenResult\");\r\n          Utils.setToken(e.detail.data.access_token);\r\n          break;\r\n        default:\r\n          console.log(e.type);\r\n          console.log(e);\r\n\r\n      }\r\n    });\r\n    connect.send(\"VKWebAppInit\");\r\n    connect.send('VKWebAppGetUserInfo', {});\r\n    connect.send(\"VKWebAppGetAuthToken\", { \"app_id\": Utils.AppID, \"scope\": \"friends,photos,wall,groups\" });\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <ConfigProvider scheme={this.state.scheme} isWebView={true}>\r\n        <View\r\n          id=\"View1\"\r\n          popout={this.state.popout}\r\n          activePanel={this.state.activePanel}\r\n          onSwipeBack={this.goBack}\r\n          history={this.state.history}\r\n        >\r\n          <Panel id=\"Main\">\r\n            <PanelHeader>byKIM</PanelHeader>\r\n\r\n            <Group header={<Header mode=\"secondary\">Добро пожаловать</Header>}>\r\n              <RichCell\r\n                disabled\r\n                text={\r\n                  <Subhead weight=\"regular\" style={{ color: \"var(--text_secondary)\" }}>{\r\n                    \"id\" + this.state.fetchedUser.id\r\n                  }</Subhead>\r\n                }\r\n                before={\r\n                  <Avatar size={72} src={this.state.fetchedUser.photo_200} />\r\n                }\r\n              >\r\n                <Text weight=\"medium\">{\r\n                  this.state.fetchedUser.first_name + \" \" +\r\n                  this.state.fetchedUser.last_name\r\n                }</Text>\r\n              </RichCell>\r\n            </Group>\r\n\r\n            <Group header={<Header mode=\"secondary\">Функции</Header>}>\r\n              <SimpleCell onClick={this.goForward} data-to=\"FunctionDateReg\" before={<Icon28CalendarOutline />}>Дата регистрации</SimpleCell>\r\n              <SimpleCell onClick={this.goForward} data-to=\"FunctionDeadFollowers\" before={<Icon28Users3Outline />}>Мертвые подписчики</SimpleCell>\r\n\r\n            </Group>\r\n\r\n          </Panel>\r\n\r\n          <DateReg id=\"FunctionDateReg\" goBack={this.goBack} goForward={this.goForward} user={this.state.fetchedUser} />\r\n          <DeadFollowers id=\"FunctionDeadFollowers\" goBack={this.goBack} goForward={this.goForward} user={this.state.fetchedUser} />\r\n\r\n\r\n        </View>\r\n      </ConfigProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\nimport \"./index.css\";\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}