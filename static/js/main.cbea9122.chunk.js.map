{"version":3,"sources":["Utils.js","Functions/DateReg.js","Functions/DeadFollowers.js","App.js","index.js"],"names":["$","ajaxPrefilter","options","crossDomain","support","cors","url","Utils","setToken","token","access_token","console","log","callAPI","methods","params","callback","v","VKAppApi","callAPIMethod","then","ending","num","array","this","AppID","VKMiniAppAPI","initApp","DateReg","props","DateRegGetFreiends","e","text","target","value","hide","q","fields","count","data","setState","DateRegUsersList","items","DateRegSetUid","uid","val","DateRegGet","is","prop","btnEnabled","result","end","slideDown","ajax","UserId","done","date_req","match","name_req","date_res2","split","fadeOut","UserLink","trim","UserDomain","test","replace","screen_name","type","state","object_id","id","addon","onClick","goBack","left","top","defaultValue","user","onChange","length","style","display","map","element","key","className","data-uid","size","src","photo_100","first_name","last_name","before","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","height","alignItems","justifyContent","paddingBottom","borderRadius","level","weight","textAlign","color","textShadow","React","Component","DeadFollowers","DeadFollowersGet","html","placeholder","App","goForward","activePanel","currentTarget","dataset","to","history","push","connect","send","pop","scheme","schemeDark","fetchedUser","sex","photo_200","popout","subscribe","detail","isDark","includes","isWebView","onSwipeBack","header","mode","disabled","data-to","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cbea9122.chunk.js","sourcesContent":["import { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api';\r\nimport $ from \"jquery\";\r\n\r\n//class Utils\r\n\r\n$.ajaxPrefilter((options) => {\r\n    if (options.crossDomain && $.support.cors) {\r\n        options.url = 'https://cors-anywhere.herokuapp.com/' + options.url;\r\n    }\r\n});\r\n\r\n\r\nclass UtilsClass {\r\n    constructor() {\r\n        this.access_token = ''\r\n        this.AppID = 7548849\r\n        this.VKAppApi = new VKMiniAppAPI()\r\n        this.VKAppApi.initApp();\r\n    }\r\n\r\n\r\n    setToken = (token) => {\r\n        this.access_token = token;\r\n        console.log(\"set tok\");\r\n    }\r\n    callAPI = (methods, params, callback) => {\r\n        if (!params.access_token) params.access_token = this.access_token;\r\n        if (!params.v) params.v = \"5.111\";\r\n        this.VKAppApi.callAPIMethod(methods, params).then(callback);\r\n    }\r\n    ending = (num,array) => {\r\n        var c = [2, 0, 1, 1, 1, 2];\r\n        return array[num % 100 > 4 && num % 100 < 20 ? 2 : c[num % 10 < 5 ? num % 10 : 5]]\r\n    }\r\n    /*getIdByLink = async (Link) => {\r\n        let Domain = '';\r\n        let Id = '';\r\n        if (/^(-?\\d+)$/.test(Link)) {\r\n            Id = Link\r\n            return {type:\"user\",object_id:Id}\r\n        }\r\n        else {\r\n            let match = Link.match(/(https?:\\/\\/)?(vk.com)?\\/?(.+)/i);\r\n            if (match[0]) {\r\n                Domain = match[3];\r\n                console.log(2);\r\n                Utils.callAPI(\"utils.resolveScreenName\", {\r\n                    screen_name: Domain,\r\n                }, data => {\r\n                    console.log(5);\r\n                    console.log(data)\r\n                    if (data.type === \"user\" || data.type === \"group\") {\r\n                        return data;\r\n                    }\r\n                    else {\r\n                        return \"null\";\r\n                    }\r\n                })\r\n                console.log(6);\r\n            }\r\n            else {\r\n                return \"null\"\r\n            }\r\n        }\r\n    }*/\r\n}\r\n\r\nlet Utils = new UtilsClass();\r\n\r\nexport { Utils }  ","import React from \"react\";\r\nimport { Panel } from '@vkontakte/vkui';\r\nimport { PanelHeader } from '@vkontakte/vkui';\r\nimport { PanelHeaderButton } from '@vkontakte/vkui';\r\nimport { PanelHeaderBack } from '@vkontakte/vkui';\r\nimport { Group } from '@vkontakte/vkui';\r\nimport { Input } from '@vkontakte/vkui';\r\nimport { FormLayout } from '@vkontakte/vkui';\r\nimport { Button } from '@vkontakte/vkui';\r\nimport { Div } from '@vkontakte/vkui';\r\nimport { Title } from '@vkontakte/vkui';\r\nimport { HorizontalScroll } from '@vkontakte/vkui';\r\nimport { Avatar } from '@vkontakte/vkui';\r\nimport { Text } from '@vkontakte/vkui';\r\nimport { Spinner } from '@vkontakte/vkui';\r\n\r\nimport { Utils } from \"../Utils\"\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\n\r\nimport $ from \"jquery\";\r\n\r\n\r\nclass DateReg extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            DateRegUsersList: [],\r\n            btnEnabled: true,\r\n        }\r\n        this.DateRegGetFreiends({ target: { value: \"\" } });\r\n    }\r\n    DateRegGetFreiends = (e) => {\r\n        let text = e.target.value;\r\n        $(\"#DateRegResult\").hide();\r\n        Utils.callAPI(\"friends.search\", {\r\n            q: text,\r\n            fields: \"photo_100\",\r\n            count: 10\r\n        }, data => {\r\n            console.log(data)\r\n            this.setState({ DateRegUsersList: data.items });\r\n        })\r\n\r\n    }\r\n    DateRegSetUid = (uid) => {\r\n        $(\"#DateRegUserId\").val(uid);\r\n        this.DateRegGet();\r\n    }\r\n    DateRegGet = () => {\r\n        if ($(\"#DateRegButton\").is(':disabled')) return;\r\n\r\n\r\n        $(\"#DateRegUserId\").prop(\"disabled\", true);\r\n        $(\"#DateRegButton\").prop(\"disabled\", true);\r\n        this.setState({ btnEnabled: false });\r\n        this.setState({ DateRegUsersList: [] });\r\n\r\n        this.setState({ result: \"Еггог :О\" });\r\n        const end = () => {\r\n            $(\"#DateRegResult\").slideDown(\"fast\", () => {\r\n                $(\"#DateRegUserId\").prop(\"disabled\", false);\r\n                $(\"#DateRegButton\").prop(\"disabled\", false);\r\n                this.setState({ btnEnabled: true });\r\n            });\r\n        }\r\n        const ajax = (UserId) => {\r\n            $.ajax(\"https://vk.com/foaf.php?id=\" + UserId)\r\n                .done((data) => {\r\n\r\n                    let date_req = data.match(/<ya:created dc:date=\"([\\d]{4}-[\\d]{2}-[\\d]{2}T[\\d]{2}:[\\d]{2}:[\\d]{2}\\+[\\d]{2}:[\\d]{2})\"/i);\r\n                    let name_req = data.match(/<foaf:name>(.+)<\\/foaf:name>/i);\r\n\r\n                    if (date_req && name_req) {\r\n                        let date_res1 = date_req[1].split(\"T\");\r\n                        let date_res2 = date_res1[0].split(\"-\");\r\n                        this.setState({\r\n                            result: \"[\" + name_req[1] + \"]<br>Дата регистрации:<br>\" + date_res2[2] + \".\" + date_res2[1] + \".\" + date_res2[0]\r\n                        });\r\n                    }\r\n                    return end();\r\n                })\r\n        }\r\n\r\n        $(\"#DateRegResult\").fadeOut(\"fast\", () => {\r\n            let UserLink = $(\"#DateRegUserId\").val().trim();\r\n            let UserDomain = '';\r\n            let UserId = '';\r\n            if (/^(-?\\d+)$/.test(UserLink)) {\r\n                UserId = UserLink\r\n                ajax(UserId)\r\n            }\r\n            else {\r\n                UserDomain = UserLink.replace(/(https?:\\/\\/)?(vk\\.com)?\\/?/i);\r\n                Utils.callAPI(\"utils.resolveScreenName\", {\r\n                    screen_name: UserDomain,\r\n                }, data => {\r\n                    if (data.type === \"user\") {\r\n                        ajax(data.object_id)\r\n                    }\r\n                    else {\r\n                        this.setState({\r\n                            result: this.state.result + \"<br>Ссылка не верная\"\r\n                        });\r\n                        return end();\r\n                    }\r\n                })\r\n            }\r\n\r\n        });\r\n        return;\r\n    }\r\n    render() {\r\n        return (\r\n            <Panel id={this.props.id}>\r\n                <PanelHeader\r\n                    addon={<PanelHeaderButton onClick={this.props.goBack}>Назад</PanelHeaderButton>}\r\n                    left={<PanelHeaderBack onClick={this.props.goBack} />}\r\n                >Дата регистрации</PanelHeader>\r\n                <Group>\r\n                    <FormLayout>\r\n                        <Input top=\"Ссылка на пользователя / Поиск друга\" id=\"DateRegUserId\" defaultValue={this.props.user.id} onChange={this.DateRegGetFreiends} />\r\n                        {this.state.DateRegUsersList.length > 0 &&\r\n                            <HorizontalScroll id=\"DateRegSearchResult\">\r\n                                <div style={{ display: 'flex' }}>\r\n                                    {this.state.DateRegUsersList.map((element) =>\r\n                                        <div key={element.id} className=\"horizontal_item\"\r\n                                            data-uid={element.id}\r\n                                            onClick={(e) => this.DateRegSetUid(element.id)}\r\n                                        >\r\n                                            <Avatar size={64} src={element.photo_100} />\r\n                                            <Text>{element.first_name + \" \" + element.last_name}</Text>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </HorizontalScroll>\r\n                        }\r\n                        <Button id=\"DateRegButton\" size=\"xl\" before={this.state.btnEnabled ? <Icon24Flash /> : \"\"} onClick={this.DateRegGet}>{this.state.btnEnabled ? \"Узнать\" : <Spinner size=\"regular\" />}</Button>\r\n                    </FormLayout>\r\n                </Group>\r\n                < Div style={{ display: \"none\" }} id=\"DateRegResult\">\r\n                    <div style={{\r\n                        backgroundImage: \"url('https://sun9-30.userapi.com/c853520/v853520560/21e5b6/xrSo_ya_iRs.jpg')\",\r\n                        backgroundRepeat: \"no-repeat\",\r\n                        backgroundSize: \"cover\",\r\n                        backgroundPosition: \"center\",\r\n                        height: 200,\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                        paddingBottom: \"6px\",\r\n                        borderRadius: 12\r\n                    }}>\r\n\r\n                        <Title level=\"1\" weight=\"heavy\" id=\"DateRegText\" style={{\r\n                            textAlign: \"center\",\r\n                            color: \"#fff\",\r\n                            textShadow: \"4px 4px 5px #000, -4px 4px 5px #000,-4px -4px 5px #000, 4px -4px 5px #000\"\r\n                        }}>{this.state.result}</Title>\r\n                    </div>\r\n                </Div>\r\n            </Panel>\r\n\r\n        )\r\n    }\r\n}\r\nexport default DateReg;","import React from \"react\";\r\nimport { Panel } from '@vkontakte/vkui';\r\nimport { PanelHeader } from '@vkontakte/vkui';\r\nimport { PanelHeaderButton } from '@vkontakte/vkui';\r\nimport { PanelHeaderBack } from '@vkontakte/vkui';\r\nimport { Group } from '@vkontakte/vkui';\r\nimport { Input } from '@vkontakte/vkui';\r\nimport { FormLayout } from '@vkontakte/vkui';\r\nimport { Button } from '@vkontakte/vkui';\r\nimport { Div } from '@vkontakte/vkui';\r\nimport { Select } from '@vkontakte/vkui';\r\nimport { Spinner } from '@vkontakte/vkui';\r\n\r\nimport { Utils } from \"../Utils\"\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\n\r\nimport $ from \"jquery\";\r\n\r\n\r\nclass DeadFollowers extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            btnEnabled: true,\r\n        }\r\n    }\r\n    DeadFollowersGet = () => {\r\n        if ($(\"#DeadFollowersButton\").is(':disabled')) return;\r\n\r\n\r\n        $(\"#DeadFollowersInput\").prop(\"disabled\", true);\r\n        $(\"#DeadFollowersButton\").prop(\"disabled\", true);\r\n        this.setState({ btnEnabled: false });\r\n\r\n        let result = \"Еггог :О\";\r\n        const end = () => {\r\n            $(\"#DateRegText\").html(result);\r\n            $(\"#DateRegResult\").slideDown(\"fast\", () => {\r\n                $(\"#DateRegUserId\").prop(\"disabled\", false);\r\n                $(\"#DateRegButton\").prop(\"disabled\", false);\r\n                this.setState({ btnEnabled: true });\r\n            });\r\n        }\r\n        const ajax = (UserId) => {\r\n            $.ajax(\"https://vk.com/foaf.php?id=\" + UserId)\r\n                .done((data) => {\r\n\r\n                    let date_req = data.match(/<ya:created dc:date=\"([\\d]{4}-[\\d]{2}-[\\d]{2}T[\\d]{2}:[\\d]{2}:[\\d]{2}\\+[\\d]{2}:[\\d]{2})\"/i);\r\n                    let name_req = data.match(/<foaf:name>(.+)<\\/foaf:name>/i);\r\n\r\n                    if (date_req && name_req) {\r\n                        let date_res1 = date_req[1].split(\"T\");\r\n                        let date_res2 = date_res1[0].split(\"-\");\r\n                        result = \"[\" + name_req[1] + \"]<br>Дата регистрации:<br>\" + date_res2[2] + \".\" + date_res2[1] + \".\" + date_res2[0];\r\n                    }\r\n                    return end();\r\n                })\r\n        }\r\n\r\n        $(\"#DateRegResult\").fadeOut(\"fast\", () => {\r\n            let UserLink = $(\"#DateRegUserId\").val().trim();\r\n            let UserDomain = '';\r\n            let UserId = '';\r\n            if (/^(-?\\d+)$/.test(UserLink)) {\r\n                UserId = UserLink\r\n                ajax(UserId)\r\n            }\r\n            else {\r\n                UserDomain = UserLink.replace(/(https?:\\/\\/)?(vk\\.com)?\\/?/i);\r\n                Utils.callAPI(\"utils.resolveScreenName\", {\r\n                    screen_name: UserDomain,\r\n                }, data => {\r\n                    if (data.type === \"user\") {\r\n                        ajax(data.object_id)\r\n                    }\r\n                    else {\r\n                        result += \"<br>Ссылка не верная\";\r\n                        return end();\r\n                    }\r\n                })\r\n            }\r\n\r\n        });\r\n        return;\r\n    }\r\n    render() {\r\n        return (\r\n            <Panel id={this.props.id}>\r\n                <PanelHeader\r\n                    addon={<PanelHeaderButton onClick={this.props.goBack}>Назад</PanelHeaderButton>}\r\n                    left={<PanelHeaderBack onClick={this.props.goBack} />}\r\n                >Мертвые подписчики</PanelHeader>\r\n                <Group>\r\n                    <FormLayout>\r\n                        <Select placeholder=\"Выберите\">\r\n                            <option value=\"m\">Мужской</option>\r\n                            <option value=\"f\">Женский</option>\r\n                        </Select>\r\n                        <Input top=\"Ссылка на пользователя/группу\" id=\"DeadFollowersInput\" />\r\n                        <Button id=\"DeadFollowersButton\" size=\"xl\" style={{ display: \"none\" }} before={this.state.btnEnabled ? <Icon24Flash /> : \"\"} onClick={this.DeadFollowersGet}>{this.state.btnEnabled ? \"Узнать\" : <Spinner size=\"regular\" />}</Button>\r\n                    </FormLayout>\r\n                </Group>\r\n                < Div style={{ display: \"none\" }} id=\"DeadFollowersResult\">\r\n                    {this.state.result}\r\n                </Div>\r\n            </Panel>\r\n\r\n        )\r\n    }\r\n}\r\nexport default DeadFollowers;","import React from \"react\";\r\n\r\nimport connect from \"@vkontakte/vk-bridge\";\r\n\r\nimport { ConfigProvider } from \"@vkontakte/vkui\";\r\nimport { View } from \"@vkontakte/vkui\";\r\nimport { Panel } from \"@vkontakte/vkui\";\r\nimport { PanelHeader } from \"@vkontakte/vkui\";\r\nimport { Header } from \"@vkontakte/vkui\";\r\nimport { Group } from \"@vkontakte/vkui\";\r\nimport { RichCell } from \"@vkontakte/vkui\";\r\nimport { SimpleCell } from \"@vkontakte/vkui\";\r\nimport { Avatar } from \"@vkontakte/vkui\";\r\nimport { Text } from \"@vkontakte/vkui\";\r\nimport { Subhead } from \"@vkontakte/vkui\";\r\nimport { ScreenSpinner } from \"@vkontakte/vkui\";\r\n\r\n\r\nimport Icon28CalendarOutline from \"@vkontakte/icons/dist/28/calendar_outline\";\r\nimport Icon28Users3Outline from '@vkontakte/icons/dist/28/users_3_outline';\r\nimport DateReg from \"./Functions/DateReg\"\r\nimport DeadFollowers from \"./Functions/DeadFollowers\"\r\nimport { Utils } from \"./Utils\"\r\n\r\n//import { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api';\r\n/*\r\nconst VKAppApi = new VKMiniAppAPI();\r\nVKAppApi.initApp();\r\nVKAppApi.getUserInfo().then(userInfo => {\r\n  console.log(userInfo.id);\r\n});\r\n*/\r\n\r\n\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      activePanel: \"Main\",\r\n\r\n      scheme: 'bright_light',\r\n      schemeDark: ['space_gray', 'client_dark'],\r\n\r\n      fetchedUser: {\r\n        id: 0,\r\n        first_name: \"Пользователь\",\r\n        last_name: \"\",\r\n        sex: 0,\r\n        photo_200: \"https://vk.com/images/camera_100.png\",\r\n      },\r\n      history: ['Main'],\r\n\r\n      popout: <ScreenSpinner size='large' />,\r\n\r\n    }\r\n  }\r\n\r\n  goForward = (e) => {\r\n    const activePanel = e.currentTarget.dataset.to;\r\n    const history = [...this.state.history];\r\n    history.push(activePanel);\r\n    if (this.state.activePanel === 'main') {\r\n      connect.send('VKWebAppEnableSwipeBack');\r\n    }\r\n    this.setState({\r\n      history: history,\r\n      activePanel: activePanel\r\n    });\r\n  };\r\n\r\n  goBack = () => {\r\n    const history = [...this.state.history];\r\n    history.pop();\r\n    const activePanel = history[history.length - 1];\r\n    console.log(activePanel);\r\n    if (activePanel === 'main') {\r\n      connect.send('VKWebAppDisableSwipeBack');\r\n    }\r\n    this.setState({ history: history, activePanel: activePanel });\r\n  }\r\n\r\n  componentDidMount() {\r\n    connect.subscribe((e) => {\r\n      switch (e.detail.type) {\r\n        case 'VKWebAppInitResult':\r\n        case 'VKWebAppCallAPIMethodResult':\r\n          break;\r\n        case 'VKWebAppGetUserInfoResult':\r\n          this.setState({ fetchedUser: e.detail.data });\r\n          this.setState({ popout: '' });\r\n          break;\r\n        case 'VKWebAppUpdateConfig':\r\n          const isDark = this.state.schemeDark.includes(e.detail.data.scheme);\r\n          this.setState({ scheme: isDark ? 'space_gray' : 'bright_light' });\r\n          break;\r\n          case 'VKWebAppGetAuthTokenResult':\r\n          case 'VKWebAppAccessTokenReceived':\r\n            console.log(\"VKWebAppGetAuthTokenResult\");\r\n            Utils.setToken(e.detail.data.access_token);\r\n            break;\r\n        default:\r\n          console.log(e.type);\r\n          console.log(e);\r\n\r\n          // при Токен Fail запросить ещё раз\r\n\r\n      }\r\n    });\r\n    connect.send(\"VKWebAppInit\");\r\n    connect.send('VKWebAppGetUserInfo', {});\r\n    connect.send(\"VKWebAppGetAuthToken\", { \"app_id\": Utils.AppID, \"scope\": \"friends,photos,wall,groups\" });\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <ConfigProvider scheme={this.state.scheme} isWebView={true}>\r\n        <View\r\n          id=\"View1\"\r\n          popout={this.state.popout}\r\n          activePanel={this.state.activePanel}\r\n          onSwipeBack={this.goBack}\r\n          history={this.state.history}\r\n        >\r\n          <Panel id=\"Main\">\r\n            <PanelHeader>byKIM</PanelHeader>\r\n\r\n            <Group header={<Header mode=\"secondary\">Добро пожаловать</Header>}>\r\n              <RichCell\r\n                disabled\r\n                text={\r\n                  <Subhead weight=\"regular\" style={{ color: \"var(--text_secondary)\" }}>{\r\n                    \"id\" + this.state.fetchedUser.id\r\n                  }</Subhead>\r\n                }\r\n                before={\r\n                  <Avatar size={72} src={this.state.fetchedUser.photo_200} />\r\n                }\r\n              >\r\n                <Text weight=\"medium\">{\r\n                  this.state.fetchedUser.first_name + \" \" +\r\n                  this.state.fetchedUser.last_name\r\n                }</Text>\r\n              </RichCell>\r\n            </Group>\r\n\r\n            <Group header={<Header mode=\"secondary\">Функции</Header>}>\r\n              <SimpleCell onClick={this.goForward} data-to=\"FunctionDateReg\" before={<Icon28CalendarOutline />}>Дата регистрации</SimpleCell>\r\n              <SimpleCell onClick={this.goForward} data-to=\"FunctionDeadFollowers\" before={<Icon28Users3Outline />}>Мертвые подписчики</SimpleCell>\r\n\r\n            </Group>\r\n\r\n          </Panel>\r\n\r\n          <DateReg id=\"FunctionDateReg\" goBack={this.goBack} goForward={this.goForward} user={this.state.fetchedUser} />\r\n          <DeadFollowers id=\"FunctionDeadFollowers\" goBack={this.goBack} goForward={this.goForward} user={this.state.fetchedUser} />\r\n\r\n\r\n        </View>\r\n      </ConfigProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\nimport \"./index.css\";\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}