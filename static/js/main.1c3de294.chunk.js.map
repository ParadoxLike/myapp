{"version":3,"sources":["Functions/DateReg.js","App.js","index.js"],"names":["$","ajaxPrefilter","options","crossDomain","support","cors","url","GetDateReg","slideUp","UserId","document","getElementById","value","console","log","ajax","done","data","req","match","result","res2","split","html","slideDown","DateReg","id","goBack","user","goForward","addon","onClick","left","top","defaultValue","size","before","style","display","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","height","alignItems","justifyContent","paddingBottom","borderRadius","level","weight","textAlign","color","textShadow","first_name","App","props","e","activePanel","currentTarget","dataset","to","history","state","push","connect","send","setState","pop","length","GetSexName","sex","scheme","schemeDark","fetchedUser","last_name","photo_200","popout","subscribe","detail","type","isDark","includes","this","isWebView","onSwipeBack","header","mode","disabled","text","src","data-to","React","Component","ReactDOM","render"],"mappings":"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","file":"static/js/main.1c3de294.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Panel } from '@vkontakte/vkui';\r\nimport { PanelHeader } from '@vkontakte/vkui';\r\nimport { PanelHeaderButton } from '@vkontakte/vkui';\r\nimport { PanelHeaderBack } from '@vkontakte/vkui';\r\nimport { Group } from '@vkontakte/vkui';\r\nimport { Input } from '@vkontakte/vkui';\r\nimport { FormLayout } from '@vkontakte/vkui';\r\nimport { Button } from '@vkontakte/vkui';\r\nimport { Div } from '@vkontakte/vkui';\r\nimport { Title } from '@vkontakte/vkui';\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\n\r\nimport $ from \"jquery\";\r\n\r\n$.ajaxPrefilter(function (options) {\r\n    if (options.crossDomain && $.support.cors) {\r\n        options.url = 'https://cors-anywhere.herokuapp.com/' + options.url;\r\n    }\r\n});\r\n\r\nconst GetDateReg = () => {\r\n    $(\"#DateRegResult\").slideUp(\"fast\", function () {\r\n        let UserId = document.getElementById(\"DateRegUserId\").value;\r\n        console.log(UserId);\r\n        //ya:created dc:date=\"2007-07-10T12:57:12+03:00\"\r\n\r\n        $.ajax(\"https://vk.com/foaf.php?id=\" + UserId)\r\n            .done(function (data) {\r\n                let req = data.match(/<ya:created dc:date=\"([\\d]{4}-[\\d]{2}-[\\d]{2}T[\\d]{2}:[\\d]{2}:[\\d]{2}\\+[\\d]{2}:[\\d]{2})\"/i);\r\n                let result = \"Еггог :О\";\r\n                if (req) {\r\n                    let res1 = req[1].split(\"T\");\r\n                    let res2 = res1[0].split(\"-\");\r\n                    result = \"Дата регистрации:<br>\" + res2[2] + \".\" + res2[1] + \".\" + res2[0];\r\n                }\r\n                $(\"#DateRegText\").html(result);\r\n                $(\"#DateRegResult\").slideDown(\"fast\");\r\n            })\r\n    });\r\n    return;\r\n};\r\n\r\nconst DateReg = ({ id, goBack, goForward, user }) => (\r\n    <Panel id={id}>\r\n        <PanelHeader\r\n            addon={<PanelHeaderButton onClick={goBack}>Назад</PanelHeaderButton>}\r\n            left={<PanelHeaderBack onClick={goBack} />}\r\n        >Дата регистрации</PanelHeader>\r\n        <Group>\r\n            <FormLayout>\r\n                <Input top=\"Ссылка на пользователя\" id=\"DateRegUserId\" defaultValue={user.id} />\r\n                <Button size=\"xl\" before={<Icon24Flash />} onClick={GetDateReg}>Узнать</Button>\r\n            </FormLayout>\r\n        </Group>\r\n        < Div style={{ display: \"none\" }} id=\"DateRegResult\">\r\n            <div style={{\r\n                backgroundImage: \"url('https://sun9-30.userapi.com/c853520/v853520560/21e5b6/xrSo_ya_iRs.jpg')\",\r\n                backgroundRepeat: \"no-repeat\",\r\n                backgroundSize: \"cover\",\r\n                backgroundPosition: \"center\",\r\n                height: 200,\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                paddingBottom: \"6px\",\r\n                borderRadius: 12\r\n            }}>\r\n                <Title level=\"1\" weight=\"heavy\" id=\"DateRegText\" style={{\r\n                    textAlign: \"center\",\r\n                    color: \"#fff\",\r\n                    textShadow: \"4px 4px 5px #000, -4px 4px 5px #000,-4px -4px 5px #000, 4px -4px 5px #000\"\r\n                }}>{user.first_name}, ты шо, дурак шоль!?</Title>\r\n            </div>\r\n        </Div>\r\n    </Panel>\r\n\r\n);\r\n\r\nexport default DateReg;","import React from \"react\";\n\nimport connect from \"@vkontakte/vk-bridge\";\n\nimport { ConfigProvider } from \"@vkontakte/vkui\";\nimport { View } from \"@vkontakte/vkui\";\nimport { Panel } from \"@vkontakte/vkui\";\nimport { PanelHeader } from \"@vkontakte/vkui\";\nimport { Header } from \"@vkontakte/vkui\";\nimport { Group } from \"@vkontakte/vkui\";\nimport { RichCell } from \"@vkontakte/vkui\";\nimport { SimpleCell } from \"@vkontakte/vkui\";\nimport { Avatar } from \"@vkontakte/vkui\";\nimport { Text } from \"@vkontakte/vkui\";\nimport { Subhead } from \"@vkontakte/vkui\";\nimport { ScreenSpinner } from \"@vkontakte/vkui\";\n\n\nimport Icon28CalendarOutline from \"@vkontakte/icons/dist/28/calendar_outline\";\nimport DateReg from \"./Functions/DateReg\"\n\n//import { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api';\n/*\nconst VKAppApi = new VKMiniAppAPI();\nVKAppApi.initApp();\nVKAppApi.getUserInfo().then(userInfo => {\n  console.log(userInfo.id);\n});\n*/\n\n\n\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activePanel: \"Main\",\n\n      scheme: 'bright_light',\n      schemeDark: ['space_gray', 'client_dark'],\n\n      fetchedUser: {\n        id: 0,\n        first_name: \"Пользователь\",\n        last_name: \"\",\n        sex: 0,\n        photo_200: \"https://vk.com/images/camera_100.png\",\n      },\n      history: ['Main'],\n\n      popout: <ScreenSpinner size='large' />,\n    }\n  }\n\n  goForward = (e) => {\n    const activePanel = e.currentTarget.dataset.to;\n    const history = [...this.state.history];\n    history.push(activePanel);\n    if (this.state.activePanel === 'main') {\n      connect.send('VKWebAppEnableSwipeBack');\n    }\n    this.setState({\n      history:history,\n      activePanel:activePanel\n    });\n  };\n\n  goBack = () => {\n    const history = [...this.state.history];\n    history.pop();\n    const activePanel = history[history.length - 1];\n    console.log(activePanel);\n    if (activePanel === 'main') {\n      connect.send('VKWebAppDisableSwipeBack');\n    }\n    this.setState({ history:history, activePanel:activePanel });\n  }\n\n  GetSexName = (sex) => {\n    switch (sex) {\n      case 1: return \"Женский\";\n      case 2: return \"Мужской\";\n      default: return \"null :o\";\n    }\n  }\n\n  componentDidMount() {\n    connect.subscribe((e) => {\n      switch (e.detail.type) {\n        case 'VKWebAppInitResult':\n          console.log(\"VKWebAppInitResult\");\n          break;\n        case 'VKWebAppGetUserInfoResult':\n          this.setState({ fetchedUser: e.detail.data });\n          this.setState({ popout: '' });\n\n          break;\n        case 'VKWebAppUpdateConfig':\n          const isDark = this.state.schemeDark.includes(e.detail.data.scheme);\n          this.setState({ scheme: isDark ? 'space_gray' : 'bright_light' });\n\n          break;\n        default:\n          console.log(e.type);\n          console.log(e);\n\n      }\n    });\n    connect.send(\"VKWebAppInit\");\n    connect.send('VKWebAppGetUserInfo', {});\n  }\n\n\n  render() {\n    return (\n      <ConfigProvider scheme={this.state.scheme} isWebView={true}>\n          <View\n            id=\"View1\"\n            popout={this.state.popout}\n            activePanel={this.state.activePanel}\n            onSwipeBack={this.goBack}\n            history={this.state.history}\n          >\n            <Panel id=\"Main\">\n              <PanelHeader>byKIM</PanelHeader>\n\n              <Group header={<Header mode=\"secondary\">Добро пожаловать</Header>}>\n                <RichCell\n                  disabled\n                  text={\n                    <Subhead weight=\"regular\" style={{ color: \"var(--text_secondary)\" }}>{\n                      \"id\" + this.state.fetchedUser.id\n                    }</Subhead>\n                  }\n                  before={\n                    <Avatar size={72} src={this.state.fetchedUser.photo_200} />\n                  }\n                >\n                  <Text weight=\"medium\">{\n                    this.state.fetchedUser.first_name + \" \" +\n                    this.state.fetchedUser.last_name\n                  }</Text>\n                </RichCell>\n              </Group>\n\n              <Group header={<Header mode=\"secondary\">Функции</Header>}>\n                <SimpleCell onClick={this.goForward} data-to=\"FunctionDateReg\" before={<Icon28CalendarOutline />}>Дата регистрации</SimpleCell>\n                \n              </Group>\n\n            </Panel>\n\n            <DateReg id=\"FunctionDateReg\" goBack={this.goBack} goForward={this.goForward} user={this.state.fetchedUser} />\n\n\n          </View>\n      </ConfigProvider>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport \"@vkontakte/vkui/dist/vkui.css\";\n\n// Init VK  Mini App\n//const schemeAttribute = document.createAttribute(\"scheme\");\n//schemeAttribute.value = \"space_gray\";\n//schemeAttribute.value = \"bright_light\";\n//document.body.attributes.setNamedItem(schemeAttribute);\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}