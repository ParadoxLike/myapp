{"version":3,"sources":["VkApi.js","Utils.js","Functions/DateReg.js","Functions/DeadFollowers.js","App.js","index.js"],"names":["_token","Promise","require","$","_delayed","apiRequest","method","params","callback","ajax","url","data","makeQueryString","done","console","log","JSON","parse","fail","getRequest","Object","keys","map","key","encodeURIComponent","concat","join","module","exports","setToken","token","this","serverAuth","resolve","reject","replace","client_id","client_secret","response","access_token","siteAuth","code","redirect_uri","callMethod","error","appendCall","push","execute","captcha","calls","item","stringify","captcha_sid","sid","captcha_key","errorsHandled","forEach","i","call","execute_errors","ajaxPrefilter","options","crossDomain","support","cors","vkSdk","VKMiniAppAPI","initApp","getAvatarUrl","domain","user_ids","v","then","catch","GetDateReg","slideUp","UserId","document","getElementById","value","req","match","result","res2","split","html","slideDown","DateReg","id","goBack","user","goForward","addon","onClick","left","top","defaultValue","size","before","mode","src","style","display","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","height","alignItems","justifyContent","paddingBottom","borderRadius","level","weight","textAlign","color","textShadow","first_name","App","props","e","activePanel","currentTarget","dataset","to","history","state","connect","send","setState","pop","length","scheme","schemeDark","fetchedUser","last_name","sex","photo_200","popout","subscribe","detail","type","isDark","includes","isWebView","onSwipeBack","header","disabled","text","data-to","DeadFollowers","React","Component","ReactDOM","render"],"mappings":"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","file":"static/js/main.01e23bbf.chunk.js","sourcesContent":["'use strict';\n\nvar Promise = require('promise');\nvar https = require('https');\nvar $ = require(\"jquery\");\n\n\nvar _delayed = [];\nvar _token;\n/*\n$.ajaxPrefilter(function (options) {\n    if (options.crossDomain && $.support.cors) {\n        options.url = 'https://cors-anywhere.herokuapp.com/' + options.url;\n    }\n});\n*/\nmodule.exports.setToken = function (token) {\n    _token = token;\n    return this;\n};\n\n\nmodule.exports.serverAuth = function (params) {\n\n    return new Promise(function (resolve, reject) {\n\n        var url = 'https://oauth.vk.com/access_token?client_id=CLIENT_ID&client_secret=CLIENT_SECRET&v=5.1&grant_type=client_credentials'\n            .replace('CLIENT_ID', params.client_id)\n            .replace('CLIENT_SECRET', params.client_secret);\n\n        getRequest(url, function (response) {\n            var data = JSON.parse(response || null);\n            if (data.access_token) {\n                exports.setToken(data.access_token);\n                resolve(data);\n            } else {\n                reject(data);\n            }\n        });\n\n    });\n\n};\n\n\nmodule.exports.siteAuth = function (params) {\n\n    return new Promise(function (resolve, reject) {\n\n        var url = 'https://oauth.vk.com/access_token?client_id=CLIENT_ID&client_secret=CLIENT_SECRET&code=CODE&redirect_uri=REDIRECT_URI'\n            .replace('CLIENT_ID', params.client_id)\n            .replace('CLIENT_SECRET', params.client_secret)\n            .replace('CODE', params.code)\n            .replace('REDIRECT_URI', params.redirect_uri);\n\n        getRequest(url, function (response) {\n            var data = JSON.parse(response || null);\n            if (data.access_token) {\n                exports.setToken(data.access_token);\n                resolve(data);\n            } else {\n                reject(data);\n            }\n        });\n\n    });\n\n};\n\n\nmodule.exports.callMethod = function (method, params) {\n\n    return new Promise(function (resolve, reject) {\n\n        apiRequest(method, params, function (data) {\n\n            if (data.response) {\n                resolve(data.response);\n            } else {\n                reject(data.error)\n            }\n\n        });\n\n    });\n\n\n\n};\n\n\nmodule.exports.appendCall = function (method, params) {\n\n    return new Promise(function (resolve, reject) {\n        _delayed.push({\n            method: method,\n            params: params,\n            resolve: resolve,\n            reject: reject\n        });\n    });\n\n};\n\n\nmodule.exports.execute = function (captcha) {\n\n    return new Promise(function (resolve, reject) {\n\n        var calls = _delayed;\n        _delayed = [];\n\n        var code = 'return [' + calls.map(function (item) {\n            return 'API.METHOD(PARAMS)'\n                .replace('METHOD', item.method)\n                .replace('PARAMS', JSON.stringify(item.params) || '');\n        }).join(',') + '];';\n\n        var params = {\n            code: code\n        };\n\n        if (captcha) {\n            params.captcha_sid = captcha.sid;\n            params.captcha_key = captcha.key;\n        }\n\n        apiRequest('execute', params, function onResponse (data) {\n\n            var errorsHandled = 0;\n\n            if (data.response) {\n\n                resolve(data.response);\n                data.response.forEach(function (response, i) {\n                    var call = calls[i];\n                    if (response) {\n                        call.resolve(response);\n                    } else {\n                        call.reject(data.execute_errors[errorsHandled++]);\n                    }\n                });\n\n            } else {\n\n                reject(data.error);\n                calls.forEach(function (item) {\n                    item.reject(data.error);\n                });\n\n            }\n\n        });\n\n    });\n\n\n};\n\n\n\nfunction apiRequest (method, params, callback) {\n\n    $.ajax({\n        url: \"https://api.vk.com/method/\"+method,\n        method: \"POST\",\n        data: makeQueryString(params)\n    })\n    .done(function (data) {\n        console.log(data);\n        callback(JSON.parse(data || '{}'));\n    })\n    .fail(function (data) {\n        //console.log(data);\n    })\n\n}\n\n\nfunction getRequest (url, callback) {\n\n    $.ajax(url)\n    .done(function (data) {\n        callback(data);\n    })\n    .fail(function (data) {\n        //console.log(data);\n    })\n\n}\n\n\nfunction makeQueryString (params) {\n    return Object.keys(params || {})\n        .map(function (key) {\n            var encodedKey = encodeURIComponent(key);\n            var encodedValue = encodeURIComponent(params[key])\n            return encodedKey + '=' + encodedValue;\n        })\n        .concat(_token ? 'access_token=' + _token : '')\n        .join('&');\n}\n\n","import { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api';\r\nimport $ from \"jquery\";\r\n\r\n//class Utils\r\n\r\n$.ajaxPrefilter(function (options) {\r\n    if (options.crossDomain && $.support.cors) {\r\n        options.url = 'https://cors-anywhere.herokuapp.com/' + options.url;\r\n    }\r\n});\r\n\r\nconst AppId = 7548849;\r\nlet access_token = \"\";\r\n\r\nconst VKAppApi = new VKMiniAppAPI().initApp();\r\n/*VKAppApi.getAccessToken(AppId, \"friends,photos,wall,groups\");*/\r\n\r\nconst vkSdk = require(\"./VkApi\");\r\n\r\nconst setToken = (token) => {\r\n    access_token = token;\r\n    console.log(\"set tok\");\r\n}\r\n\r\nconst getAvatarUrl = (domain) => {\r\n    console.log(domain)\r\n\r\n\r\n\r\n    vkSdk.setToken(access_token);\r\n\r\n    vkSdk.callMethod('users.get', {\r\n        user_ids: domain,\r\n        v: \"5.111\"\r\n    }).then(function (response) {\r\n        console.log('Success: ' + JSON.stringify(response));\r\n        // Success: [{\"uid\":1,\"first_name\":\"Pavel\",\"last_name\":\"Durov\"},{\"uid\":5,\"first_name\":\"Ilya\",\"last_name\":\"Perekopsky\"}]\r\n    }).catch(function (error) {\r\n        console.log('Fail: ' + JSON.stringify(error));\r\n    });\r\n\r\n\r\n    /* VKAppApi.callAPIMethod(\"users.get\", { access_token: access_token, v: \"5.111\", user_ids: domain })\r\n         .then(user => {\r\n             console.log(user.id);\r\n             return user.photo_200 ? user.photo_200 : (user.photo_100 ? user.photo_100 : false)\r\n         });*/\r\n}\r\n\r\n\r\n\r\nexport { getAvatarUrl, setToken }  ","import React from \"react\";\r\nimport { Panel } from '@vkontakte/vkui';\r\nimport { PanelHeader } from '@vkontakte/vkui';\r\nimport { PanelHeaderButton } from '@vkontakte/vkui';\r\nimport { PanelHeaderBack } from '@vkontakte/vkui';\r\nimport { Group } from '@vkontakte/vkui';\r\nimport { Input } from '@vkontakte/vkui';\r\nimport { FormLayout } from '@vkontakte/vkui';\r\nimport { Button } from '@vkontakte/vkui';\r\nimport { Div } from '@vkontakte/vkui';\r\nimport { Title } from '@vkontakte/vkui';\r\nimport { Cell } from '@vkontakte/vkui';\r\nimport { Switch } from '@vkontakte/vkui';\r\nimport { Select } from '@vkontakte/vkui';\r\nimport { SimpleCell } from '@vkontakte/vkui';\r\nimport { Avatar } from '@vkontakte/vkui';\r\nimport { Header } from '@vkontakte/vkui';\r\n\r\nimport { setToken, getAvatarUrl } from \"./../Utils\"\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\n\r\nimport $ from \"jquery\";\r\n\r\n\r\n\r\nconst GetDateReg = () => {\r\n    $(\"#DateRegResult\").slideUp(\"fast\", function () {\r\n        let UserId = document.getElementById(\"DateRegUserId\").value;\r\n        console.log(UserId);\r\n        //ya:created dc:date=\"2007-07-10T12:57:12+03:00\"\r\n\r\n        $.ajax(\"https://vk.com/foaf.php?id=\" + UserId)\r\n            .done(function (data) {\r\n                let req = data.match(/<ya:created dc:date=\"([\\d]{4}-[\\d]{2}-[\\d]{2}T[\\d]{2}:[\\d]{2}:[\\d]{2}\\+[\\d]{2}:[\\d]{2})\"/i);\r\n                let result = \"Еггог :О\";\r\n                if (req) {\r\n                    let res1 = req[1].split(\"T\");\r\n                    let res2 = res1[0].split(\"-\");\r\n                    result = \"Дата регистрации:<br>\" + res2[2] + \".\" + res2[1] + \".\" + res2[0];\r\n                }\r\n                $(\"#DateRegText\").html(result);\r\n                $(\"#DateRegResult\").slideDown(\"fast\");\r\n            })\r\n    });\r\n    return;\r\n};\r\n/*\r\n<Cell asideContent={<Switch />}>\r\n                Ввод ID / Поиск по друзьям\r\n            </Cell>\r\n\r\n                <Select top=\"Пол\" placeholder=\"Список друзей\">\r\n                    <option value=\"m\">Ким</option>\r\n                    <option value=\"f\">Не ким</option>\r\n                </Select>\r\n\r\n*/\r\nconst DateReg = ({ id, goBack, goForward, user }) => (\r\n    <Panel id={id}>\r\n        <PanelHeader\r\n            addon={<PanelHeaderButton onClick={goBack}>Назад</PanelHeaderButton>}\r\n            left={<PanelHeaderBack onClick={goBack} />}\r\n        >Дата регистрации</PanelHeader>\r\n        <Group>\r\n            <FormLayout>\r\n\r\n                <Input top=\"Ссылка на пользователя\" id=\"DateRegUserId\" defaultValue={user.id} />\r\n                <Button size=\"xl\" before={<Icon24Flash />} onClick={GetDateReg}>Узнать</Button>\r\n            </FormLayout>\r\n        </Group>\r\n        <Group>\r\n            <Header mode=\"secondary\">Список диалогов</Header>\r\n            <SimpleCell before={<Avatar size={40} src={getAvatarUrl('xyz')} />} >Игорь Фёдоров</SimpleCell>\r\n            <SimpleCell before={<Avatar size={40} src={getAvatarUrl('arthurstam')} />} >Artur Stambultsian</SimpleCell>\r\n        </Group>\r\n        < Div style={{ display: \"none\" }} id=\"DateRegResult\">\r\n            <div style={{\r\n                backgroundImage: \"url('https://sun9-30.userapi.com/c853520/v853520560/21e5b6/xrSo_ya_iRs.jpg')\",\r\n                backgroundRepeat: \"no-repeat\",\r\n                backgroundSize: \"cover\",\r\n                backgroundPosition: \"center\",\r\n                height: 200,\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                paddingBottom: \"6px\",\r\n                borderRadius: 12\r\n            }}>\r\n                <Title level=\"1\" weight=\"heavy\" id=\"DateRegText\" style={{\r\n                    textAlign: \"center\",\r\n                    color: \"#fff\",\r\n                    textShadow: \"4px 4px 5px #000, -4px 4px 5px #000,-4px -4px 5px #000, 4px -4px 5px #000\"\r\n                }}>{user.first_name}, ты шо, дурак шоль!?</Title>\r\n            </div>\r\n        </Div>\r\n    </Panel>\r\n\r\n);\r\n\r\nexport default DateReg;","import React from \"react\";\r\nimport { Panel } from '@vkontakte/vkui';\r\nimport { PanelHeader } from '@vkontakte/vkui';\r\nimport { PanelHeaderButton } from '@vkontakte/vkui';\r\nimport { PanelHeaderBack } from '@vkontakte/vkui';\r\nimport { Group } from '@vkontakte/vkui';\r\nimport { Input } from '@vkontakte/vkui';\r\nimport { FormLayout } from '@vkontakte/vkui';\r\nimport { Button } from '@vkontakte/vkui';\r\nimport { Div } from '@vkontakte/vkui';\r\nimport { Title } from '@vkontakte/vkui';\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\n\r\n\r\nconst DateReg = ({ id, goBack, goForward, user }) => (\r\n    <Panel id={id}>\r\n        <PanelHeader\r\n            addon={<PanelHeaderButton onClick={goBack}>Назад</PanelHeaderButton>}\r\n            left={<PanelHeaderBack onClick={goBack} />}\r\n        >Дата регистрации</PanelHeader>\r\n        <Group>\r\n            <FormLayout>\r\n                <Input top=\"Ссылка на пользователя\" id=\"DateRegUserId\" defaultValue={user.id} />\r\n                <Button size=\"xl\" before={<Icon24Flash />} >Узнать</Button>\r\n            </FormLayout>\r\n        </Group>\r\n        < Div style={{ display: \"none\" }} id=\"DateRegResult\">\r\n            <div style={{\r\n                backgroundImage: \"url('https://sun9-30.userapi.com/c853520/v853520560/21e5b6/xrSo_ya_iRs.jpg')\",\r\n                backgroundRepeat: \"no-repeat\",\r\n                backgroundSize: \"cover\",\r\n                backgroundPosition: \"center\",\r\n                height: 200,\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                paddingBottom: \"6px\",\r\n                borderRadius: 12\r\n            }}>\r\n                <Title level=\"1\" weight=\"heavy\" id=\"DateRegText\" style={{\r\n                    textAlign: \"center\",\r\n                    color: \"#fff\",\r\n                    textShadow: \"4px 4px 5px #000, -4px 4px 5px #000,-4px -4px 5px #000, 4px -4px 5px #000\"\r\n                }}>{user.first_name}, ты шо, дурак шоль!?</Title>\r\n            </div>\r\n        </Div>\r\n    </Panel>\r\n\r\n);\r\n\r\nexport default DateReg;","import React from \"react\";\n\nimport connect from \"@vkontakte/vk-bridge\";\n\nimport { ConfigProvider } from \"@vkontakte/vkui\";\nimport { View } from \"@vkontakte/vkui\";\nimport { Panel } from \"@vkontakte/vkui\";\nimport { PanelHeader } from \"@vkontakte/vkui\";\nimport { Header } from \"@vkontakte/vkui\";\nimport { Group } from \"@vkontakte/vkui\";\nimport { RichCell } from \"@vkontakte/vkui\";\nimport { SimpleCell } from \"@vkontakte/vkui\";\nimport { Avatar } from \"@vkontakte/vkui\";\nimport { Text } from \"@vkontakte/vkui\";\nimport { Subhead } from \"@vkontakte/vkui\";\nimport { ScreenSpinner } from \"@vkontakte/vkui\";\n\n\nimport Icon28CalendarOutline from \"@vkontakte/icons/dist/28/calendar_outline\";\nimport Icon28Users3Outline from '@vkontakte/icons/dist/28/users_3_outline';\nimport DateReg from \"./Functions/DateReg\"\nimport DeadFollowers from \"./Functions/DeadFollowers\"\nimport { setToken, getAvatarUrl } from \"./Utils\"\n\n//import { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api';\n/*\nconst VKAppApi = new VKMiniAppAPI();\nVKAppApi.initApp();\nVKAppApi.getUserInfo().then(userInfo => {\n  console.log(userInfo.id);\n});\n*/\n\n\n\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activePanel: \"Main\",\n\n      scheme: 'bright_light',\n      schemeDark: ['space_gray', 'client_dark'],\n\n      fetchedUser: {\n        id: 0,\n        first_name: \"Пользователь\",\n        last_name: \"\",\n        sex: 0,\n        photo_200: \"https://vk.com/images/camera_100.png\",\n      },\n      history: ['Main'],\n\n      popout: <ScreenSpinner size='large' />,\n    }\n  }\n\n  goForward = (e) => {\n    const activePanel = e.currentTarget.dataset.to;\n    const history = [...this.state.history];\n    history.push(activePanel);\n    if (this.state.activePanel === 'main') {\n      connect.send('VKWebAppEnableSwipeBack');\n    }\n    this.setState({\n      history: history,\n      activePanel: activePanel\n    });\n  };\n\n  goBack = () => {\n    const history = [...this.state.history];\n    history.pop();\n    const activePanel = history[history.length - 1];\n    console.log(activePanel);\n    if (activePanel === 'main') {\n      connect.send('VKWebAppDisableSwipeBack');\n    }\n    this.setState({ history: history, activePanel: activePanel });\n  }\n\n  componentDidMount() {\n    connect.subscribe((e) => {\n      switch (e.detail.type) {\n        case 'VKWebAppInitResult':\n          console.log(\"VKWebAppInitResult\");\n          break;\n        case 'VKWebAppGetUserInfoResult':\n          console.log(\"VKWebAppGetUserInfoResult\");\n          this.setState({ fetchedUser: e.detail.data });\n          this.setState({ popout: '' });\n\n          break;\n        case 'VKWebAppUpdateConfig':\n          console.log(\"VKWebAppUpdateConfig\");\n          const isDark = this.state.schemeDark.includes(e.detail.data.scheme);\n          this.setState({ scheme: isDark ? 'space_gray' : 'bright_light' });\n\n          break;\n        case 'VKWebAppGetAuthTokenResult':\n        case 'VKWebAppAccessTokenReceived':\n          console.log(\"VKWebAppGetAuthTokenResult\");\n          setToken(e.detail.data.access_token);\n          break;\n        default:\n          console.log(e.type);\n          console.log(e);\n\n      }\n    });\n    connect.send(\"VKWebAppInit\");\n    connect.send('VKWebAppGetUserInfo', {});\n    connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 7548849, \"scope\": \"friends,photos,wall,groups\"});\n  }\n\n\n  render() {\n    return (\n      <ConfigProvider scheme={this.state.scheme} isWebView={true}>\n        <View\n          id=\"View1\"\n          popout={this.state.popout}\n          activePanel={this.state.activePanel}\n          onSwipeBack={this.goBack}\n          history={this.state.history}\n        >\n          <Panel id=\"Main\">\n            <PanelHeader>byKIM</PanelHeader>\n\n            <Group header={<Header mode=\"secondary\">Добро пожаловать</Header>}>\n              <RichCell\n                disabled\n                text={\n                  <Subhead weight=\"regular\" style={{ color: \"var(--text_secondary)\" }}>{\n                    \"id\" + this.state.fetchedUser.id\n                  }</Subhead>\n                }\n                before={\n                  <Avatar size={72} src={this.state.fetchedUser.photo_200} />\n                }\n              >\n                <Text weight=\"medium\">{\n                  this.state.fetchedUser.first_name + \" \" +\n                  this.state.fetchedUser.last_name\n                }</Text>\n              </RichCell>\n            </Group>\n\n            <Group header={<Header mode=\"secondary\">Функции</Header>}>\n              <SimpleCell onClick={this.goForward} data-to=\"FunctionDateReg\" before={<Icon28CalendarOutline />}>Дата регистрации</SimpleCell>\n              <SimpleCell onClick={this.goForward} data-to=\"FunctionDeadFollowers\" before={<Icon28Users3Outline />}>Мертвые подписчики</SimpleCell>\n\n            </Group>\n\n          </Panel>\n\n          <DateReg id=\"FunctionDateReg\" goBack={this.goBack} goForward={this.goForward} user={this.state.fetchedUser} />\n          <DeadFollowers id=\"FunctionDeadFollowers\" goBack={this.goBack} goForward={this.goForward} user={this.state.fetchedUser} />\n\n\n        </View>\n      </ConfigProvider>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport \"@vkontakte/vkui/dist/vkui.css\";\n\n// Init VK  Mini App\n//const schemeAttribute = document.createAttribute(\"scheme\");\n//schemeAttribute.value = \"space_gray\";\n//schemeAttribute.value = \"bright_light\";\n//document.body.attributes.setNamedItem(schemeAttribute);\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}